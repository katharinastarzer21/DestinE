{"version":2,"kind":"Notebook","sha256":"d40d33853f74ed687f270cf63083ce75d8c46a3aa0b37fc64acec98dd854ab16","slug":"hda-eodag-quick-start","location":"/production/HDA/EODAG/HDA-EODAG-quick-start.ipynb","dependencies":[],"frontmatter":{"title":"EODAG - A quick start with DEDL","subtitle":"This notebook provides a quickstart guide for using the EODAG Python API and CLI to search, discover, and download DEDL data.","tags":["HDA","EODAG"],"copyright":"Â© 2025 EUMETSAT","authors":[{"id":"Serena Avolio (EUMETSAT/Starion)","name":"Serena Avolio (EUMETSAT/Starion)"}],"license":{"content":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"thumbnail":"/myst_assets_folder../../img/eodag_logo_160.png","kernelspec":{"name":"python_dedl","display_name":"Python DEDL","language":"python"},"numbering":{"title":{"offset":1}},"exports":[{"format":"ipynb","filename":"HDA-EODAG-quick-start.ipynb","url":"/build/HDA-EODAG-quick-star-6d59455f8ffae2cc1e892d44e6f2567b.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"div","style":{"margin":"6px 0"},"children":[{"type":"link","style":{"textDecoration":"none"},"url":"https://jupyter.central.data.destination-earth.eu/user-redirect/lab/tree/DestinE-DataLake-Lab/HDA/EODAG/HDA-EODAG-quick-start.ipynb","children":[{"type":"span","class":"launch","children":[{"type":"text","value":"ðŸš€ Launch in JupyterHub","key":"AVMjnQ31Df"}],"key":"h1cFxURqzj"}],"urlSource":"https://jupyter.central.data.destination-earth.eu/user-redirect/lab/tree/DestinE-DataLake-Lab/HDA/EODAG/HDA-EODAG-quick-start.ipynb","key":"cQZnsO4MV2"}],"key":"noqCCwQLXI"}],"key":"cHZ9a5DH8X"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Copyright:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"urJMCCKArT"}],"key":"NGqbcmZ4HD"},{"type":"text","value":" 2025 EUMETSAT ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YW87BK0QuC"},{"type":"break","key":"P7Z9aPguQe"},{"type":"text","value":"\n","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"r3ZAVGxqiK"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"License:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"q6T5HZw3vI"}],"key":"mXcAi7hgT7"},{"type":"text","value":" MIT ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Tv1a9YCxFr"},{"type":"break","key":"qohgffl6hJ"},{"type":"text","value":"\n","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"y6T0rCOyPk"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Authors:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"m06UbDnMSG"}],"key":"jAQn8Khihb"},{"type":"text","value":" Serena Avolio (EUMETSAT/Starion)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eH7O79VXM1"}],"key":"f0894FU5Aw"}],"key":"oUUYq2Xmcz"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"alert alert-block alert-success","children":[{"type":"heading","depth":3,"children":[{"type":"text","value":"EODAG - A quick start with DEDL","key":"KSlKQzzgWi"}],"identifier":"eodag-a-quick-start-with-dedl","label":"EODAG - A quick start with DEDL","html_id":"eodag-a-quick-start-with-dedl","implicit":true,"key":"UJAznmXSCE"}],"key":"Lvh6VwnPNG"}],"key":"M3qEFXpQBH"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"div","class":"alert alert-block alert-warning","children":[{"type":"strong","children":[{"type":"text","value":"Prerequisites:","key":"NtfqfV6naZ"}],"key":"X8jOZaxJdK"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"To search and access DEDL data a ","key":"c3Ub6ZySTY"},{"type":"link","url":"https://platform.destine.eu/","children":[{"type":"text","value":"DestinE user account","key":"KTpZ3BWb0F"}],"urlSource":"https://platform.destine.eu/","key":"nxqSPLrp1h"},{"type":"text","value":" is needed","key":"tZdUAcIoHK"}],"key":"JHhYx5pt8C"}],"key":"KhfmJrA9Lr"},{"type":"strong","children":[{"type":"text","value":"References:","key":"zRZ6Gld1gk"}],"key":"rlh00OUq61"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","url":"https://eodag.readthedocs.io/en/stable/index.html","children":[{"type":"text","value":"EODAG - Earth Observation Data Access Gateway","key":"teqLVnWDP3"}],"urlSource":"https://eodag.readthedocs.io/en/stable/index.html","key":"iN1whN9qPh"}],"key":"akvrRqM7e7"}],"key":"xA6lkDhFFD"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","url":"https://destine-data-lake-docs.data.destination-earth.eu/en/latest/dedl-discovery-and-data-access/Introduction-to-Discovery-and-Data-Access-services/Introduction-to-Discovery-and-Data-Access-services.html#eodag-earth-observation-data-access-gateway","children":[{"type":"text","value":"EODAG - DEDL","key":"HuY7d3XDx8"}],"urlSource":"https://destine-data-lake-docs.data.destination-earth.eu/en/latest/dedl-discovery-and-data-access/Introduction-to-Discovery-and-Data-Access-services/Introduction-to-Discovery-and-Data-Access-services.html#eodag-earth-observation-data-access-gateway","key":"vIK5f19go1"}],"key":"lrPN51pJ0C"}],"key":"FQbY1P5eo1"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","url":"https://eodag.readthedocs.io/en/stable/api_user_guide.html","children":[{"type":"text","value":"EODAG API documentation","key":"K1m1jzwnpq"}],"urlSource":"https://eodag.readthedocs.io/en/stable/api_user_guide.html","key":"pXiD5645mY"}],"key":"kOQ35xuKXt"}],"key":"DJCXaKdVrM"},{"type":"strong","children":[{"type":"text","value":"Credit:","key":"s1o0FF07AC"}],"key":"A3THbIM9aX"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Code used in this context takes inspiration from the ","key":"F19rFZDgsn"},{"type":"link","url":"https://eodag.readthedocs.io/en/stable/api_user_guide.html","children":[{"type":"text","value":"Python API User Guide","key":"xX7kLXfI4e"}],"urlSource":"https://eodag.readthedocs.io/en/stable/api_user_guide.html","key":"ZyyqBVmATU"},{"type":"text","value":" produced by CS Group.","key":"UPA4gMXb1M"}],"key":"RWb0L8rwW5"}],"key":"FTUr5skUUB"}],"key":"DxO4pvDWE0"}],"visibility":"show","key":"j7o9nSLTTs"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"EODAG is a command line tool and a Python package for searching and downloading earth observation data via a unified API.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"egv6qVgWX6"}],"key":"Jw81b77IXl"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"This quickstart tutorial has the aim to show how to get DEDL data using the EODAG python API.\nIt contains some help tools to select the dataset of interest, the bounding box and the time range for searching DEDL data.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jeMoZCkHib"}],"key":"MDWPP5L0f6"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Detailed information about the usage of EODAG can be found on the ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Y8rqv2Qtm0"},{"type":"link","url":"https://eodag.readthedocs.io/en/stable/index.html","children":[{"type":"text","value":"project documentation page","key":"BeYDMd9rmw"}],"urlSource":"https://eodag.readthedocs.io/en/stable/index.html","key":"EF61Do774o"},{"type":"text","value":".","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Dp0kcxJdnU"}],"key":"iqDVcIjXUr"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Throughout this quickstart notebook, you will learn:","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"ARvIUsiNQX"}],"key":"OvOp0ovMz0"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":11,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"paragraph","children":[{"type":"crossReference","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Setup","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"jJgqISH5xT"}],"identifier":"hda-eodag-quick-start.ipynb-setup","label":"HDA-EODAG-quick-start.ipynb-Setup","kind":"heading","template":"{name}","resolved":true,"html_id":"hda-eodag-quick-start-ipynb-setup","key":"FXCgYOvZdv"},{"type":"text","value":": How to configure ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"njlhgojJ6r"},{"type":"emphasis","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"EODAG","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"QkLniwX4LW"}],"key":"xNkZYisoeI"},{"type":"text","value":" to use the provider ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"xUNSD1WxPs"},{"type":"emphasis","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"DEDL","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"rZnTSxsROE"}],"key":"WNBiGZoqdd"},{"type":"text","value":".","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"G5SFZMFJ0B"}],"key":"Tz2jdblQ4Q"}],"key":"NYd55eWvcG"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","children":[{"type":"crossReference","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Discover","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"vr5z3DfN7s"}],"identifier":"hda-eodag-quick-start.ipynb-eodiscover","label":"HDA-EODAG-quick-start.ipynb-EODiscover","kind":"heading","template":"{name}","resolved":true,"html_id":"hda-eodag-quick-start-ipynb-eodiscover","key":"FebKjpRUnj"},{"type":"text","value":": How to discover ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"wrKFlgHFxs"},{"type":"emphasis","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"DEDL","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"ZtRhqm1BVf"}],"key":"lK9AzwjUhI"},{"type":"text","value":" datasets through EODAG.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"yfk2zFbxiw"}],"key":"fga4rEBQ4h"}],"key":"juwBl4dgP7"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"paragraph","children":[{"type":"crossReference","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Search products","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"ystogqOzp3"}],"identifier":"hda-eodag-quick-start.ipynb-eosearch","label":"HDA-EODAG-quick-start.ipynb-EOSearch","kind":"heading","template":"{name}","resolved":true,"html_id":"hda-eodag-quick-start-ipynb-eosearch","key":"nZCiM5IyQP"},{"type":"text","value":":  How to search ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"ARJNOJa19A"},{"type":"emphasis","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"DEDL","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"oUbASGwCsm"}],"key":"O2wkkPibUN"},{"type":"text","value":" data through EODAG.","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"b0uBtMnPT4"}],"key":"qxAG22nsz1"}],"key":"KqBlMZPNzw"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"paragraph","children":[{"type":"crossReference","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Download products","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"CELMQHocXA"}],"identifier":"hda-eodag-quick-start.ipynb-eodownload","label":"HDA-EODAG-quick-start.ipynb-EODownload","kind":"heading","template":"{name}","resolved":true,"html_id":"hda-eodag-quick-start-ipynb-eodownload","key":"f6JhyG84ER"},{"type":"text","value":": How to download ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"o9SFKFJ1ne"},{"type":"emphasis","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"DEDL","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"DnZCdNvm9y"}],"key":"L1QzbnUhWB"},{"type":"text","value":" data through EODAG.","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"lspEm9f1iX"}],"key":"Su0kupnGTG"}],"key":"Nw09F8JC9r"}],"key":"OBDrFnTqPF"},{"type":"paragraph","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"In this notebook the word â€˜collectionâ€™, â€˜datasetâ€™ and â€˜product typeâ€™ have the same meaning.","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"hpJJpKxlfS"}],"key":"Fh4h526h2a"}],"key":"yfPbK9bssR"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"alert alert-block alert-danger","children":[{"type":"strong","children":[{"type":"text","value":"Note:","key":"ujt2abaDrB"}],"key":"NnufRQgGGI"},{"type":"paragraph","children":[{"type":"text","value":"Please note that the two factor authentication (2FA) is still not implemented in EODAG. The users who have enabled 2FA on DESP will not be able to run this notebook.","key":"O2RSfSWRsx"}],"key":"NXr4lTBWko"}],"key":"jCO6YQJfoK"}],"key":"AYVHgFb3gX"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Setup","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"eGelWfd4YZ"}],"label":"HDA-EODAG-quick-start.ipynb-Setup","identifier":"hda-eodag-quick-start.ipynb-setup","html_id":"hda-eodag-quick-start-ipynb-setup","key":"lU7gecJ61m"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In this section, we set:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Vr1xsTAbFI"}],"key":"nsyBBqhgD1"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The output_dir, the directory where to store downloaded products.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"U5SsgJ5UEM"}],"key":"M4FOibBDLo"}],"key":"n3op840nzy"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The DEDL credentials, youâ€™ll be asked to enter your DEDL credentials.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"P2I4gqheWX"}],"key":"lPLvQpBwMz"}],"key":"giNwEexZhL"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The search timeout, it is of 60 seconds to avoid any unexpected errors because of long running search queries.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"IksWZes5MA"}],"key":"v4hO8KkMUa"}],"key":"LGg88CDent"}],"key":"XZF2KnghbX"}],"visibility":"show","key":"RQHZisO2jA"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import os\nfrom getpass import getpass\n\nworkspace = 'eodag_workspace'\nif not os.path.isdir(workspace):\n    os.mkdir(workspace)\n    \nos.environ[\"EODAG__DEDL__DOWNLOAD__OUTPUT_DIR\"] = os.path.abspath(workspace)\n\nos.environ[\"EODAG__DEDL__SEARCH__TIMEOUT\"]=\"60\"\nos.environ[\"DEFAULT_STREAM_REQUESTS_TIMEOUT\"] = \"15\"\nos.environ[\"EODAG__DEDL__PRIORITY\"]=\"10\"\n\n\nDESP_USERNAME = input(\"Please input your DESP username or email: \")\nDESP_PASSWORD = getpass(\"Please input your DESP password: \")\n\nos.environ[\"EODAG__DEDL__AUTH__CREDENTIALS__USERNAME\"]=DESP_USERNAME\nos.environ[\"EODAG__DEDL__AUTH__CREDENTIALS__PASSWORD\"]=DESP_PASSWORD\n","visibility":"show","key":"ltNz4jSG4Q"},{"type":"output","id":"QHIpRgTlbuTHBtNekG8LW","data":[{"name":"stdout","output_type":"stream","text":"Please input your DESP username or email:  eum-dedl-user\nPlease input your DESP password:  Â·Â·Â·Â·Â·Â·Â·Â·\n"}],"visibility":"show","key":"mOsnAv3sz4"}],"visibility":"show","key":"kJUhQrHJ4U"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"EODiscover","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"LxkNc4BnG3"}],"label":"HDA-EODAG-quick-start.ipynb-EODiscover","identifier":"hda-eodag-quick-start.ipynb-eodiscover","html_id":"hda-eodag-quick-start-ipynb-eodiscover","key":"WhSAba8fPE"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"In this section, we:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"jo2UmQVgHi"}],"key":"n4Q0aYZupW"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"import and instantiate an EODataAccessGateway object that will be used for all the operations in this tutorial.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"RosYZxUCay"}],"key":"zmKneEBmpq"}],"key":"XvcDwTL942"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"discover DEDL collections. The collections are presented in a dropdown menu, selecting a collection its description will be prompted.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"qbq6jetGbO"}],"key":"rwvgJgDn4W"}],"key":"EdlJuIf6tX"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"the collection selected will be used in the rest of the tutorial","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"jymnwqQE79"}],"key":"Hqch2Yx9mR"}],"key":"y3eDOLvjJg"}],"key":"Q71uY0k7Jn"}],"visibility":"show","key":"VdfYipZB9o"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"\nfrom eodag import EODataAccessGateway, setup_logging\ndag = EODataAccessGateway()\n\nsetup_logging(0)","visibility":"show","key":"qm6IrE0jQL"},{"type":"output","id":"ytZ94YWYHLKRMSXDVs66H","data":[],"visibility":"show","key":"JspWaAhzR4"}],"visibility":"show","key":"erX2Cnv7DY"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import ipywidgets as widgets\nfrom IPython.display import display, clear_output, HTML\nfrom ipywidgets import Layout, Box\nimport json\n\n#default values\n\nDATASET_ID = 'EO.EUM.DAT.SENTINEL-3.OL_2_WFR___'\n\n\n# Event listeners\ndef on_change(change):\n    with output_area:\n        clear_output()\n        print(f'Selected: {change[\"new\"]}')\n        print('---------------------------------------------')\n        delimiter=''\n        global DATASET_ID\n        DATASET_ID = delimiter.join(change[\"new\"])\n        product_types=dag.list_product_types(\"dedl\")\n        index = next((i for i, d in enumerate(product_types) if d.get('ID') == DATASET_ID), None)\n        \n        print(\"TITLE: \"+product_types[index]['title'])\n        print(\"ABSTRACT: \"+product_types[index]['abstract'])\n        print(\"KEYWORDS: \"+product_types[index]['abstract'])\n\noptions=[product_type[\"ID\"] for product_type in dag.list_product_types(\"dedl\")]\n\n# Widgets\noutput_area = widgets.Output()\n\ndropdown = widgets.Dropdown(\n    options=options,\n    value=options[0],\n    description=\"Datasets:\",\n    disabled=False,\n) \n\ndropdown.observe(on_change, names='value')\n\n\n# Layout\n# Define the layout for the dropdown\ndropdown_layout = Layout(display='space-between', justify_content='center', width='80%')\n# Create a box to hold the dropdown with the specified layout\nbox = Box([dropdown, output_area], layout=dropdown_layout)\ndisplay( box)  \n","visibility":"show","key":"YeuKDHlMYY"},{"type":"output","id":"LjHWH9APJc3jYniDrIHpp","data":[{"output_type":"display_data","metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"a42bdcfae998465bbf5a3e71f81b9c64\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"Box(children=(Dropdown(description='Datasets:', options=('EO.AERIS.DAT.IAGOS', 'EO.CLMS.DAT.CORINE', 'EO.CLMS.â€¦","content_type":"text/plain"}}}],"visibility":"show","key":"bZPiOGNHVR"}],"visibility":"show","key":"WpHY5o6Lhh"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"EOSearch","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"VoFiEUj10n"}],"label":"HDA-EODAG-quick-start.ipynb-EOSearch","identifier":"hda-eodag-quick-start.ipynb-eosearch","html_id":"hda-eodag-quick-start-ipynb-eosearch","key":"wfo5YD1eSB"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"In this section, we define the search criteria to find data inside the chosen dataset.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"ibkihoqW3q"}],"key":"VhsjrbaiiI"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Bounding box can be modified using the text inputs, it will be visualized on the map. Once selected, to use it for the search we need to use the â€˜save bboxâ€™ button under the map.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"R3YPulEzlh"}],"key":"JjQg7OhViu"}],"key":"JzWFVpaWyb"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Time range can be modified using the inputs for dates under the map.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"DAHHfyd0OV"}],"key":"wj7Z5wiGgV"}],"key":"sO5cwrlPhe"}],"key":"j8Pw6N52ig"}],"key":"H7GiXAlC8l"},{"type":"block","kind":"notebook-code","data":{"jupyter":{"source_hidden":true},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Import necessary libraries\nimport folium, datetime\nfrom ipywidgets import interactive, HBox, VBox, FloatText, Button, Label\n\n#default values\n\nSTART_DATE = '2024-08-11'\nEND_DATE = '2024-08-13'\n\nsw_lat = 37.0\nsw_lng = 14.0\nne_lat = 38.0\nne_lng = 16.0\n\n#functions to handle the chosen values\ndef on_date_change(change):\n    with output_area:\n        clear_output()\n        global START_DATE\n        global END_DATE\n        t1 = start_date.value\n        t2 = end_date.value\n        START_DATE = t1.strftime('%Y-%m-%d')\n        END_DATE = t2.strftime('%Y-%m-%d')\n\n        \ndef update_map(sw_lat, sw_lng, ne_lat, ne_lng):\n    # Clear the map\n    m = folium.Map(location=[(sw_lat + ne_lat) / 2, (sw_lng + ne_lng) / 2], zoom_start=4, tiles=None)\n\n    nasa_wms = folium.WmsTileLayer(\n        url='https://gibs.earthdata.nasa.gov/wms/epsg4326/best/wms.cgi',\n        name='NASA Blue Marble',\n        layers='BlueMarble_ShadedRelief',\n        format='image/png',\n        transparent=True,\n        attr='NASA'\n    )\n    nasa_wms.add_to(m)\n    \n    # Add the bounding box rectangle\n    folium.Rectangle(\n        bounds=[[sw_lat, sw_lng], [ne_lat, ne_lng]],\n        color=\"#ff7800\",\n        fill=True,\n        fill_opacity=0.3\n    ).add_to(m)\n    \n    # Display the map\n    display(m)\n    return (sw_lat, sw_lng, ne_lat, ne_lng)\n\ndef save_bbox(button):\n    global sw_lat \n    global sw_lng  \n    global ne_lat \n    global ne_lng \n\n    sw_lat = sw_lat_input.value\n    sw_lng = sw_lng_input.value\n    ne_lat = ne_lat_input.value\n    ne_lng = ne_lng_input.value\n    \n    with output:\n        clear_output()\n        print(f\"BBox: sw_lat {sw_lat} sw_lng {sw_lng} ne_lat {ne_lat} ne_lng {ne_lng}\")\n\n\n# Create a base map\nm = folium.Map(location=[40, 20], zoom_start=4)\n        \n        \n# Widgets\noutput = widgets.Output()\n\n# Widgets for bbox coordinates input\nsw_lat_input = FloatText(value=sw_lat, description='SW Latitude:')\nsw_lng_input = FloatText(value=sw_lng, description='SW Longitude:')\nne_lat_input = FloatText(value=ne_lat, description='NE Latitude:')\nne_lng_input = FloatText(value=ne_lng, description='NE Longitude:')\n\nsave_button = Button(description=\"Save BBox\")\n\n\n# Create DatePicker widgets\nstart_date = widgets.DatePicker(\n    description='Start Date',value = datetime.date(2024,8,11),\n    disabled=False\n)\n\nend_date = widgets.DatePicker(\n    description='End Date',value = datetime.date(2024,8,13),\n    disabled=False\n)\n\n\nui = VBox([\n   # HBox([sw_lat_input, sw_lng_input]),\n  #  HBox([ne_lat_input, ne_lng_input]),\n    save_button,\n    output,\n    start_date, \n    end_date\n])\n\n# Display the interactive map and UI\ninteractive_map = interactive(update_map, sw_lat=sw_lat_input, sw_lng=sw_lng_input,\n                              ne_lat=ne_lat_input, ne_lng=ne_lng_input)\n\n\ndisplay(interactive_map, ui)\n\n     \n#Events\n\nstart_date.observe(on_date_change, names='value')\nend_date.observe(on_date_change, names='value')\nsave_button.on_click(save_bbox)","visibility":"show","key":"wh4yWCzkdz"},{"type":"output","id":"PZjDDCgS1xj3OQSP3s1nS","data":[{"output_type":"display_data","metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"362640b5b0884de086f8352ad480029f\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"interactive(children=(FloatText(value=37.0, description='SW Latitude:'), FloatText(value=14.0, description='SWâ€¦","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"8b061275840f4913917ff6f2f0ab1056\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"VBox(children=(Button(description='Save BBox', style=ButtonStyle()), Output(), DatePicker(value=datetime.date(â€¦","content_type":"text/plain"}}}],"visibility":"show","key":"idjpNEh0LW"}],"visibility":"show","key":"gecO1Mdyfy"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Selected criteria:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZrTM9Tkrog"}],"key":"O4sV4KvPAm"}],"key":"qC9DILpeXF"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"search_criteria = {\n    \"productType\": DATASET_ID,\n    \"start\": START_DATE,\n    \"end\": END_DATE,\n    \"geom\": {\"lonmin\": sw_lng, \"latmin\": sw_lat, \"lonmax\": ne_lng, \"latmax\": ne_lat},\n    \"count\": True\n}\n\nprint(json.dumps(search_criteria, indent=2))","visibility":"show","key":"cCRCLAaF4e"},{"type":"output","id":"BTn_UGYsUS1Ted2tmuqG4","data":[{"name":"stdout","output_type":"stream","text":"{\n  \"productType\": \"EO.EUM.DAT.SENTINEL-3.OL_2_WFR___\",\n  \"start\": \"2024-08-11\",\n  \"end\": \"2024-08-13\",\n  \"geom\": {\n    \"lonmin\": 14.0,\n    \"latmin\": 37.0,\n    \"lonmax\": 16.0,\n    \"latmax\": 38.0\n  },\n  \"count\": true\n}\n"}],"visibility":"show","key":"noSm1kaizo"}],"visibility":"show","key":"yoTvIkucjK"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Use selected criteria to search data:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LiPjtAUBpm"}],"key":"eB2wiVqLrj"}],"key":"BOMtp51BCR"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"products_first_page = dag.search(**search_criteria)\nprint(f\"Got {len(products_first_page)} products and an estimated total number of {products_first_page.number_matched} products.\")\nproducts_first_page","key":"pCnVXxpIGy"},{"type":"output","id":"NCTTJaLfDfUnzi8tAg02b","data":[{"name":"stdout","output_type":"stream","text":"Got 1 products and an estimated total number of 1 products.\n"},{"output_type":"execute_result","execution_count":18,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"9024f17769384a6be244db25a368f3b5","path":"/build/9024f17769384a6be244db25a368f3b5.html"},"text/plain":{"content":"SearchResult([EOProduct(id=S3A_OL_2_WFR____20240811T091234_20240811T091534_20240812T163228_0180_115_321_2340_MAR_O_NT_003.SEN3, provider=dedl)])","content_type":"text/plain"}}}],"key":"f5uUWdNUD2"}],"key":"fIC4BCFm7H"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"See the available metadata:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VV7z6V49bz"}],"key":"jSBs77zf7C"}],"key":"QRJyzG3Szu"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"\nif(len(products_first_page)>0):\n    one_product = products_first_page[0]\n    print(one_product.properties.keys())","visibility":"show","key":"qCF0XeDm7v"},{"type":"output","id":"cYwf0cDqd4XJIxB9NUyev","data":[{"name":"stdout","output_type":"stream","text":"dict_keys(['alias', 'abstract', 'instrument', 'platform', 'platformSerialIdentifier', 'processingLevel', 'keywords', 'sensorType', 'license', 'title', 'missionStartDate', '_id', 'productType', 'orbitNumber', 'orbitDirection', 'modificationDate', 'startTimeFromAscendingNode', 'completionTimeFromAscendingNode', 'id', 'downloadLink', 'thumbnail', 'storageStatus', 'defaultGeometry', 'quicklook', 'providers', 'start_datetime', 'sat:absolute_orbit', 'sar:product_type', 'oseo:parentIdentifier', 'eumetsat:timeliness', 'eumetsat:size', 'eumetsat:cycleNumber', 'eumetsat:uid', 'eumetsat:scope', 'eumetsat:links'])\n"}],"visibility":"show","key":"PZdebL7vCz"}],"visibility":"show","key":"HBhxXykwNT"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"EODownload","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"AcfL9nSAFY"}],"label":"HDA-EODAG-quick-start.ipynb-EODownload","identifier":"hda-eodag-quick-start.ipynb-eodownload","html_id":"hda-eodag-quick-start-ipynb-eodownload","key":"lxB2Dm9xw7"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"In this section, we download one of the retrievied product.The first product is going to be downloaded.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"rPizqDOxlW"}],"key":"j7uFZjERZQ"}],"key":"anTaQdtGJw"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"if(len(products_first_page)>0):\n    product_to_download = one_product\n    product_path = dag.download(product_to_download)\n    print(product_path)","visibility":"show","key":"TrIcQyZCZd"},{"type":"output","id":"l62XWZ039gnciYfNfSS3H","data":[{"output_type":"display_data","metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"1d323b21708b4c4a93ff7827c3b6885a\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"0.00B [00:00, ?B/s]","content_type":"text/plain"}}},{"name":"stdout","output_type":"stream","text":"/home/jovyan/dev-branch/DestinE-DataLake-Lab/HDA/EODAG/eodag_workspace/S3A_OL_2_WFR____20240811T091234_20240811T091534_20240812T163228_0180_115_321_2340_MAR_O_NT_003\n"}],"visibility":"show","key":"kvbCfHh65j"}],"visibility":"show","key":"rjHJLjQlDm"}],"key":"isbicAYPwt"},"references":{"cite":{"order":[],"data":{}}},"footer":{},"domain":"http://localhost:3001"}