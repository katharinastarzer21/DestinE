<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>HDA Climate DT Parameter Plotter - Tutorial - DEDL Notebook Gallery</title><meta property="og:title" content="HDA Climate DT Parameter Plotter - Tutorial - DEDL Notebook Gallery"/><meta name="generator" content="mystmd"/><meta name="keywords" content=""/><meta name="image" content="/myst_assets_folder../../img/ECMWF.png"/><meta property="og:image" content="/myst_assets_folder../../img/ECMWF.png"/><link rel="stylesheet" href="/build/_assets/app-5WKS5EPQ.css"/><link rel="stylesheet" href="/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/favicon.ico"/><link rel="stylesheet" href="/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="block px-2 py-1 text-black underline">Skip to article content</a></div><div class="bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="flex items-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="m-1"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/"><div class="p-1 mr-3 dark:bg-white dark:rounded"><img src="/build/logo_bar-b51d1656abaf8e03dd73e897c7ac3aa7.png" class="h-9" height="2.25rem"/></div><span class="text-md sm:text-xl tracking-tight sm:mr-5 sr-only">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R74op:" data-state="closed" class="flex items-center h-10 aspect-square sm:w-64 text-left text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="hidden sm:block grow">Search</span><div aria-hidden="true" class="items-center hidden mx-1 font-mono text-sm text-gray-400 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">âŒ˜</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="w-full px-1 dark:text-white"><a title="DEDL Notebook Gallery" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/">DEDL Notebook Gallery</a><a title="Contribute to the Gallery" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/contribute">Contribute to the Gallery</a><a title="HDA Gallery" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/hda">HDA Gallery</a><a title="HOOK Gallery" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/hook">HOOK Gallery</a><a title="STACK Gallery" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/stack">STACK Gallery</a></div></nav></div><div class="flex-none py-6 transition-all duration-700 translate-y-6 opacity-0"><a class="flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><article class="article content article-grid grid-gap"><main class="article-grid subgrid-gap col-screen"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="mb-8 pt-9"><div class="flex items-center h-6 mb-5 text-sm font-light"><div class="flex-grow"></div><a href="https://opensource.org/licenses/MIT" target="_blank" rel="noopener noreferrer" title="Content License: MIT License (MIT)" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="mx-1 inline-block opacity-60 hover:opacity-100 hover:text-[#599F46]"><path d="M13.2 15.6c1.4-.5 2.1-1.6 2.1-3.3S13.8 8.9 12 8.9c-1.9 0-3.3 1.6-3.3 3.3 0 1.8.8 3 2.2 3.4l-2.3 5.9c-3.1-.8-6.3-4.6-6.3-9.3 0-5.5 4.3-10 9.7-10s9.8 4.5 9.8 10c0 4.7-3.1 8.5-6.3 9.3l-2.3-5.9z"></path></svg></a><div class="inline-block mr-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block"><title>Jupyter Notebook</title><path d="M20.2 1.7c0 .8-.5 1.4-1.3 1.5-.8 0-1.4-.5-1.5-1.3 0-.8.5-1.4 1.3-1.5.8-.1 1.5.5 1.5 1.3zM12 17.9c-3.7 0-7-1.3-8.7-3.3 1.8 4.8 7.1 7.3 11.9 5.5 2.5-.9 4.5-2.9 5.5-5.5-1.7 2-4.9 3.3-8.7 3.3zM12 5.1c3.7 0 7 1.3 8.7 3.3-1.8-4.8-7.1-7.3-11.9-5.5-2.5.9-4.5 2.9-5.5 5.5 1.7-2 5-3.3 8.7-3.3zM6.9 21.8c.1 1-.7 1.8-1.7 1.9-1 .1-1.8-.7-1.9-1.7 0-1 .7-1.8 1.7-1.9 1-.1 1.8.7 1.9 1.7zM3.7 4.6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1c0 .5-.4 1-1 1z"></path></svg></div><div class="relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8top:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="mb-0">HDA Climate DT Parameter Plotter - Tutorial</h1><p class="mt-2 mb-0 lead text-zinc-600 dark:text-zinc-400">This notebook provides an interactive workflow to select, query, download, and visualize Climate Digital Twin parameters from the DestinE Data Lake using the DEDL HDA API.</p><header class="mt-4 not-prose"><div><span class="font-semibold text-sm inline-block"><button class="focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R78top:" data-state="closed">Micheal Schick (EUMETSAT), Serena Avolio (EUMETSAT/Starion)</button></span></div></header></div><div id="skip-to-article"></div><div class="" style="margin:6px 0"><a target="_blank" rel="noreferrer" href="https://jupyter.central.data.destination-earth.eu/user-redirect/lab/tree/DestinE-DataLake-Lab/HDA/DestinE%20Digital%20Twins/ClimateDT-ParameterPlotter.ipynb" class=""><span class="launch">ðŸš€ Launch in JupyterHub</span></a></div><div id="SK1BhYqROI" class="relative group/block"><div class="alert alert-block alert-warning"><strong>Prerequisites:</strong><ul><li><p>To search and access DEDL data a <a target="_blank" rel="noreferrer" href="https://platform.destine.eu/" class="">DestinE user account</a> is needed</p></li><li><p>To search and access DT data an <a target="_blank" rel="noreferrer" href="https://platform.destine.eu/support-pages/access-policy/" class="">upgraded access</a> is needed.</p></li></ul><strong>References:</strong><ul><li><p><a target="_blank" rel="noreferrer" href="https://destine-data-lake-docs.data.destination-earth.eu/en/latest/dedl-discovery-and-data-access/Use-of-Harmonized-Data-Access/Use-of-Harmonized-Data-Access.html" class="">DestinE Data Lake (DEDL) Harmonized Data Access (HDA) documentation</a></p></li><li><p><a target="_blank" rel="noreferrer" href="https://destine.ecmwf.int/climate-change-adaptation-digital-twin-climate-dt/" class="">Climate Change Adaptation DT (Climate DT)</a></p></li><li><p><a target="_blank" rel="noreferrer" href="https://confluence.ecmwf.int/display/DDCZ/Climate+DT+Phase+1+data+catalogue" class="">Climate DT data catalogue</a></p></li></ul><strong>Credit:</strong><ul><li><p>Earthkit and HDA Polytope used in this context are both packages provided by the European Centre for Medium-Range Weather Forecasts (ECMWF).</p></li></ul></div></div><div id="QE4etfdAaU" class="relative group/block"><p>This notebook demonstrates how to access DT data for different types of simulations via <strong>HDA (Harmonized Data Access)</strong> API.</p><p>A correct combination of parameters is necessary to access DT data for different types of simulations.
The aim of this notebook is to help you create the correct request to access the desired Climate DT data, through HDA, and visualize it.</p><p>Below the main steps covered by this tutorial.</p><ol start="1"><li><p><span data-state="closed"><a href="#climatedt-parameterplotter-ipynb-setup" class="hover-link">Setup</a></span>: Import the required libraries and define some function.</p></li><li><p><span data-state="closed"><a href="#climatedt-parameterplotter-ipynb-scenario-simulation-selection" class="hover-link">Simulation Selection</a></span>:  Print and select the desired scenario simulation for accessing Climate DT data.</p></li><li><p><span data-state="closed"><a href="#climatedt-parameterplotter-ipynb-parameter-selection" class="hover-link">Parameter Selection</a></span>: How to select the desired Climate DT variable among the ones available through the selected scenario.</p></li><li><p><span data-state="closed"><a href="#climatedt-parameterplotter-ipynb-levels-selection" class="hover-link">Levels Selection</a></span>: How to Handle different Levels to be selected (if any).</p></li><li><p><span data-state="closed"><a href="#climatedt-parameterplotter-ipynb-order-and-download" class="hover-link">Order and Download</a></span>: How to order and download Climate DT data.</p></li><li><p><span data-state="closed"><a href="#climatedt-parameterplotter-ipynb-earthkit" class="hover-link">Plot</a></span>: How to visualize hourly data on single levels data through Earthkit.</p></li></ol></div><div id="nGDjxooHOA" class="relative group/block"><h2 id="climatedt-parameterplotter-ipynb-setup" class="relative group"><span class="heading-text">Setup</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#climatedt-parameterplotter-ipynb-setup" title="Link to this Section" aria-label="Link to this Section">Â¶</a></h2></div><div id="mCWVixV0Z5" class="relative group/block"><p>Import the Climate DT parameters &amp; scenarios dictionary and all the required packages.</p></div><div id="FBHnhkjqjX" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import destinelab as deauth
from destinelab import climate_dt_dictionary
import ipywidgets as widgets
import json
import datetime
import importlib
import importlib.metadata as metadata

import requests
from requests.adapters import HTTPAdapter
from urllib3.util.retry import Retry
import os
from getpass import getpass
from tqdm import tqdm
import time
from urllib.parse import unquote
from time import sleep
from IPython.display import JSON

import sys
import subprocess
from packaging import version

from IPython.display import display, HTML</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="VdOyWfuY2zqT8cfep6ksg" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="rchfR1lfEM" class="relative group/block"><p>Define some useful funtions.</p></div><div id="zTb4p4hXbs" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">#parameters

def filter_entries(search_string):
    return [(name, index) for i, (name, index) in enumerate(model_filtered_options)
            if search_string.lower() in name.lower()]


def on_search_change(change):
    search_string = change.new
    if search_string:
        filtered_options = filter_entries(search_string)
        entry_dropdown.options = filtered_options
    else:
        entry_dropdown.options =model_filtered_options
        
def get_selected_entry():
    return entry_dropdown.value

def get_selected_hours():
    selected_hour = hour_dropdown.value
    return selected_hour

#simulations-scenarios
################################

# Function to generate hourly slots
def generate_hourly_slots():
    hours = []
    for hour in range(0, 24):
        for minute in range(0, 60, 60):  # Step by 60 minutes (1 hour)
            hours.append(datetime.time(hour, minute))
    return hours

def on_scenario_change(change):
    selected_scenario_index, selected_resolution = change.new
    selected_sc_entry = scenario_simulation_table[selected_scenario_index]
    output.clear_output()
    with output:
        if(selected_sc_entry[&#x27;site&#x27;]==&quot;MARENOSTRUM&quot;):
            styled_message = widgets.HTML(
                    value=&quot;&lt;div style=&#x27;color: red; font-weight: bold;&#x27;&gt;The scenarios in Marenostrum are not available via HDA. Please select a scenario in LUMI&lt;/div&gt;&quot;
                )
            display(styled_message)
    date_from = datetime.datetime.strptime(selected_sc_entry[&#x27;dateFrom&#x27;], &#x27;%m/%d/%Y&#x27;).date()
    start_date_picker.max = None
    start_date_picker.min = date_from
    start_date_picker.max = datetime.datetime.strptime(selected_sc_entry[&#x27;dateTo&#x27;], &#x27;%m/%d/%Y&#x27;).date()
    start_date_picker.value = date_from
    
def get_selected_values():
    selected_scenario_index, selected_resolution = scenario_dropdown.value
    selected_scenario = scenario_simulation_table[selected_scenario_index]
    selected_start_date = start_date_picker.value
    selected_end_date = &quot;&quot; # end_date_picker.value
    selected_hour = &quot;00:00:00&quot;
        
    return selected_scenario_index, selected_scenario, selected_resolution, selected_start_date, selected_end_date, selected_hour

# kevels

# Define a global variable
global global_widget
global_widget = None

# Create a function to generate the widget based on the selection mode
def generate_widget(selection_mode):
    global global_widget
    if selection_mode == &#x27;Single&#x27;:
        global_widget = widgets.Dropdown(options=levelist, description=&#x27;Select level:&#x27;)
        return global_widget
    elif selection_mode == &#x27;Multiple&#x27;:
        global_widget = widgets.SelectMultiple(options=levelist, description=&#x27;Select levels:&#x27;)
        return global_widget
    
    
# Function to display the widget based on the selection mode
def display_widget(selection_mode):
    output.clear_output()
    with output:
        display(generate_widget(selection_mode))

# Define a function to handle the change in selection mode
def on_dropdown_change(change):
    display_widget(change.new)
    
# Function to convert tuple or single integer to string separated by &quot;/&quot;
def convert_to_string(input):
    if isinstance(input, tuple):
        return &#x27;/&#x27;.join(map(str, input))
    elif isinstance(input, int):
        return str(input)
    else:
        return None  # Handle other types if needed

    
def ensure_package(package: str, min_version: str = None):
    &quot;&quot;&quot;
    Ensure that a given package is installed and optionally meets a minimum version.
    
    Args:
        package (str): The name of the package to check/install.
        min_version (str, optional): Minimum version required. If None, just ensures package is installed.
    &quot;&quot;&quot;
    try:
        # Get current version
        current_version = metadata.version(package)
        print(f&quot;Current {package} version: {current_version}&quot;)
        
        # Compare versions if needed
        if min_version and version.parse(current_version) &lt; version.parse(min_version):
            print(f&quot;Upgrading {package} to &gt;= {min_version} ...&quot;)
            subprocess.check_call([sys.executable, &quot;-m&quot;, &quot;pip&quot;, &quot;install&quot;, &quot;--user&quot;, f&quot;{package}&gt;={min_version}&quot;])
            print(f&quot;{package} updated successfully&quot;)
            return importlib.reload(importlib.import_module(package))
        else:
            print(f&quot;{package} is OK&quot;)
            return importlib.import_module(package)
    
    except metadata.PackageNotFoundError:
        print(f&quot;{package} not installed. Installing...&quot;)
        install_target = f&quot;{package}&gt;={min_version}&quot; if min_version else package
        subprocess.check_call([sys.executable, &quot;-m&quot;, &quot;pip&quot;, &quot;install&quot;, install_target])
        print(f&quot;{package} installed successfully&quot;)
        return importlib.import_module(package)
    </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="IADB6XrJhgaQI4-nlHCoa" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="n6fFDK2AKS" class="relative group/block"><h2 id="climatedt-parameterplotter-ipynb-scenario-simulation-selection" class="relative group"><span class="heading-text">Scenario Simulation Selection</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#climatedt-parameterplotter-ipynb-scenario-simulation-selection" title="Link to this Section" aria-label="Link to this Section">Â¶</a></h2><p>Letâ€™s select now the Scenario from which we want to obtain the Climate Parameter.</p><p>We need to ensure to have the right version of the climate DT dictionary.</p></div><div id="YAHEnCn8WG" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">pd = ensure_package(&quot;destinelab&quot;, &quot;1.13&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="kbaKBgUdAMEpM3eXF_2vG" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Current destinelab version: 1.13
destinelab is OK
</span></code></pre></div></div></div><div id="y0XCWXqzU6" class="relative group/block"><p>Below the available <strong>Climate DT simulations</strong>.</p></div><div id="huyznbYHVH" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">
#scenario dictionary in a rich table with title per scenario.

scenario_simulation_table=climate_dt_dictionary.climateDT_scenario

for simulation in scenario_simulation_table:
    if simulation[&quot;activity&quot;]==&quot;ScenarioMIP&quot; and  simulation.get(&quot;realization&quot;)==None:
        simulation[&quot;type&quot;] = &quot;Future projection&quot;
        if simulation[&quot;model&quot;] == &quot;IFS-FESOM&quot;:
            simulation[&quot;site&quot;] = &quot;MARENOSTRUM&quot;
        else:
            simulation[&quot;site&quot;] = &quot;LUMI&quot; 
    elif simulation[&quot;activity&quot;]==&quot;ScenarioMIP&quot; and  simulation.get(&quot;realization&quot;)==&quot;2&quot;:
        simulation[&quot;type&quot;] = &quot;Future projection (NextGEMS)&quot;
        simulation[&quot;site&quot;] = &quot;LUMI&quot;
        simulation[&quot;dateFrom&quot;] = &quot;01/20/2020&quot;
    
    if simulation[&quot;activity&quot;]==&quot;CMIP6&quot; and  simulation.get(&quot;class&quot;)==&quot;d1&quot;:
        simulation[&quot;type&quot;] = &quot;Historical simulation&quot;
        simulation[&quot;site&quot;] = &quot;LUMI&quot;
    elif simulation[&quot;activity&quot;]==&quot;CMIP6&quot; and  simulation.get(&quot;class&quot;)==&quot;ng&quot;:
        simulation[&quot;type&quot;] = &quot;Historical simulation (NextGEMS)&quot;
        simulation[&quot;site&quot;] = &quot;LUMI&quot;
    
    if simulation[&quot;activity&quot;]==&quot;story-nudging&quot; and  simulation.get(&quot;experiment&quot;)==&quot;hist&quot;:
        simulation[&quot;type&quot;] = &quot;Storyline simulation present climate&quot;
        simulation[&quot;site&quot;] = &quot;LUMI&quot;
    elif simulation[&quot;activity&quot;]==&quot;story-nudging&quot; and  simulation.get(&quot;experiment&quot;)==&quot;cont&quot;:
        simulation[&quot;type&quot;] = &quot;Storyline simulation past climate&quot;
        simulation[&quot;site&quot;] = &quot;LUMI&quot;
    elif simulation[&quot;activity&quot;]==&quot;story-nudging&quot; and  simulation.get(&quot;experiment&quot;)==&quot;Tplus2.0K&quot;:
        simulation[&quot;type&quot;] = &quot;Storyline simulation future climate&quot;
        simulation[&quot;site&quot;] = &quot;LUMI&quot;
    if simulation[&quot;activity&quot;].lower()==&quot;highresmip&quot; and  simulation.get(&quot;experiment&quot;)==&quot;cont&quot; and  simulation[&quot;model&quot;]==&quot;IFS-FESOM&quot;:
        simulation[&quot;type&quot;] = &quot;Control&quot;
        simulation[&quot;site&quot;] = &quot;MARENOSTRUM&quot;
        simulation[&quot;activity&quot;] = &quot;HighResMIP&quot;
        
        
new_cont_sc = {&quot;experiment&quot;: &quot;cont&quot;, &quot;activity&quot;: &quot;HighResMIP&quot;, &quot;model&quot;: &quot;IFS-NEMO&quot;}

if any(all(d.get(k) == v for k, v in new_cont_sc.items())
       for d in scenario_simulation_table):
    print(&quot;All control scenarios exist&quot;)                
else:
    scenario_simulation_table.append({
    &quot;type&quot;: &quot;Control&quot;,
    &quot;activity&quot;: &quot;HighResMIP&quot;,
    &quot;site&quot;: &quot;LUMI&quot;,
    &quot;experiment&quot;: &quot;cont&quot;,
    &quot;model&quot;: &quot;IFS-NEMO&quot;,
    &quot;class&quot;: &quot;d1&quot;,
    &quot;resolution&quot;:  [&quot;high&quot;,&quot;standard&quot;],
    &quot;dateFrom&quot;: &quot;01/01/1990&quot;,
    &quot;dateTo&quot;: &quot;04/30/2020&quot;
    } )      
        
import pandas as pd
# Convert list of dicts to DataFrame
df = pd.DataFrame(scenario_simulation_table)

# Convert resolution list into a comma-separated string for display
df[&#x27;resolution&#x27;] = df[&#x27;resolution&#x27;].apply(lambda x: &quot;, &quot;.join(x))

# Reorder columns
column_order = [&quot;type&quot;, &quot;activity&quot;, &quot;model&quot;, &quot;resolution&quot;, &quot;dateFrom&quot;, &quot;dateTo&quot;,&quot;experiment&quot; , &quot;site&quot;, &quot;class&quot;]
df = df[column_order]

# Bold specific fields 
df[&#x27;type&#x27;] = df[&#x27;type&#x27;].apply(lambda x: f&quot;&lt;b&gt;{x}&lt;/b&gt;&quot;)
df[&#x27;site&#x27;] = df[&#x27;site&#x27;].apply(lambda x: f&quot;&lt;b&gt;{x}&lt;/b&gt;&quot;)
df[&#x27;dateFrom&#x27;] = df[&#x27;dateFrom&#x27;].apply(lambda x: f&quot;&lt;b&gt;{x}&lt;/b&gt;&quot;)
df[&#x27;dateTo&#x27;] = df[&#x27;dateTo&#x27;].apply(lambda x: f&quot;&lt;b&gt;{x}&lt;/b&gt;&quot;)

# Display as HTML without index
display(HTML(df.to_html(escape=False, index=False)))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="mK5CzdiAhQ-rHowp8rhyU" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="rjsXkpmDGY" class="relative group/block"><div class="alert alert-block alert-danger"><strong>Note:</strong><p>Please note that the two scenarios in Marenostrum site are still not available through HDA.</p></div></div><div id="P0ssAYStcs" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Create dropdown to select scenario
scenario_dropdown = widgets.Dropdown(
    options=[(f&quot;{entry[&#x27;type&#x27;]} - {entry[&#x27;model&#x27;]} - {resolution}&quot;, (i, resolution)) 
             for i, entry in enumerate(scenario_simulation_table) for resolution in entry[&#x27;resolution&#x27;]],
    description=&#x27;Scenario:&#x27;, layout=widgets.Layout(width=&#x27;500px&#x27;)
)

# Create date picker widgets
start_date_picker = widgets.DatePicker(description=&#x27;Start Date:&#x27;, disabled=False, layout=widgets.Layout(width=&#x27;500px&#x27;))

output = widgets.Output()


# handle dropdown event
scenario_dropdown.observe(on_scenario_change, names=&#x27;value&#x27;)

# Set initial values directly
selected_sc_entry = scenario_simulation_table[0]

# Convert dateFrom string to date object
date_from = datetime.datetime.strptime(selected_sc_entry[&#x27;dateFrom&#x27;], &#x27;%m/%d/%Y&#x27;).date()

# Set initial values directly
start_date_picker.min = date_from
start_date_picker.max = datetime.datetime.strptime(selected_sc_entry[&#x27;dateTo&#x27;], &#x27;%m/%d/%Y&#x27;).date()
start_date_picker.value = date_from

display(scenario_dropdown, start_date_picker, output)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Jh1yk2rgvnEEPxPMjTZ7u" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="LfiRjnMpbi" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">selected_scenario_index, selected_scenario, selected_resolution, selected_start_date, selected_end_date, selected_hour = get_selected_values()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="vShfUCU-Wu1E6sKYNBX31" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="b338JzmX7N" class="relative group/block"><h2 id="climatedt-parameterplotter-ipynb-parameter-selection" class="relative group"><span class="heading-text">Parameter Selection</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#climatedt-parameterplotter-ipynb-parameter-selection" title="Link to this Section" aria-label="Link to this Section">Â¶</a></h2></div><div id="brv1i4gX6d" class="relative group/block"><p>Climate DT variable selection (we limit the plotting to one variable).
The variable selection is conditioned by the chosen simulation scenario.</p></div><div id="byjKfRVV4R" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">text=widgets.Label(value=&#x27;Start writing the name of the parameter of interest in the search box and/or open the dropdown menu below&#x27;)

# Create search box
search_box = widgets.Text(placeholder=&#x27;Search by parameter name&#x27;, description=&#x27;Search:&#x27;, disabled=False)

#clean the parameters to fix some errors in the current dictionary definition
cleaned_climate_dt_dictionary=[
    d for d in climate_dt_dictionary.climateDT_params
    if not (d.get(&quot;param&quot;) == &quot;130&quot; and d.get(&quot;levtype&quot;) == &quot;sfc&quot;) 
    and not ((d.get(&quot;param&quot;) == &quot;129&quot; or d.get(&quot;param&quot;) == &quot;172&quot;) and d.get(&quot;levtype&quot;) == &quot;sfc&quot; and (&quot;NextGEMS&quot; in selected_scenario[&#x27;type&#x27;])) 
]

model_filtered_options = [
    (entry[&#x27;paramName&#x27;], i)
    for i, entry in enumerate(cleaned_climate_dt_dictionary)
    if (selected_scenario[&#x27;model&#x27;] in (entry[&#x27;isFESOM&#x27;] ,entry[&#x27;isIcon&#x27;],entry[&#x27;isNemo&#x27;]))
]


# Create dropdown to select entry
entry_dropdown = widgets.Dropdown(
    options=model_filtered_options,
    description=&#x27;Select Entry:&#x27;
)

# handle search box event
search_box.observe(on_search_change, names=&#x27;value&#x27;)

# Display widgets
display(text,search_box, entry_dropdown)
</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="XrchzMKBw_7i1YLwkH9NQ" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="vqoZmoQNaC" class="relative group/block"><p>Letâ€™s see the  details of the selected parameter (Polytope convention).
It is possible to check the its characteristics, time resolution, levels...</p></div><div id="ozascmlPCM" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">selected_index = get_selected_entry()
selected_entry = cleaned_climate_dt_dictionary[selected_index]
print(json.dumps(selected_entry,indent=4))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="81XXHsJRxTJM1bYT48_8l" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>{
    &quot;param&quot;: &quot;167&quot;,
    &quot;paramName&quot;: &quot;2 metre temperature&quot;,
    &quot;shortName&quot;: &quot;2t&quot;,
    &quot;unit&quot;: &quot;K&quot;,
    &quot;encoding&quot;: &quot;instantaneous&quot;,
    &quot;isNemo&quot;: &quot;IFS-NEMO&quot;,
    &quot;isIcon&quot;: &quot;ICON&quot;,
    &quot;isFESOM&quot;: &quot;IFS-FESOM&quot;,
    &quot;stream&quot;: &quot;clte&quot;,
    &quot;type&quot;: &quot;fc&quot;,
    &quot;time&quot;: &quot;Hourly&quot;,
    &quot;levtype&quot;: &quot;sfc&quot;,
    &quot;levelist&quot;: &quot;&quot;
}
</span></code></pre></div></div></div><div id="xH4dcTjDJb" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Create dropdown to select hour
hourly_slots = generate_hourly_slots()
hour_dropdown = widgets.Dropdown(options=[(str(slot), slot) for slot in hourly_slots], description=&#x27;Select Hour:&#x27;, disabled=False)


# Display widgets
if selected_entry[&quot;time&quot;] == &quot;Hourly&quot;:
    display( hour_dropdown)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="09EV6jhjgAlUlo27Q2jRP" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="ER7endHU2n" class="relative group/block"><h2 id="climatedt-parameterplotter-ipynb-levels-selection" class="relative group"><span class="heading-text">Levels Selection</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#climatedt-parameterplotter-ipynb-levels-selection" title="Link to this Section" aria-label="Link to this Section">Â¶</a></h2><p>Handle different Levels to be selected (if any)</p></div><div id="m5Ke6AlTUK" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">if selected_entry[&quot;levelist&quot;] != &quot;&quot;:
    # Convert levelist string to list of integers
    levelist = list(map(int, selected_entry[&quot;levelist&quot;].split(&#x27;/&#x27;)))
    if(selected_scenario[&#x27;model&#x27;]==&#x27;IFS-NEMO&#x27;):
        levelist = levelist + [73,74,75]

    # Create a dropdown widget to choose selection mode
    selection_mode_dropdown = widgets.Dropdown(options=[&#x27;Single&#x27;, &#x27;Multiple&#x27;], description=&#x27;Selection Mode:&#x27;)

    # Create an output widget to display the selected option(s)
    output = widgets.Output()

    # Register the function to handle dropdown changes
    selection_mode_dropdown.observe(on_dropdown_change, names=&#x27;value&#x27;)

    # Display the widgets
    display(selection_mode_dropdown, output)

    # Display the initial widget based on default selection mode
    display_widget(&#x27;Single&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="O1KDFG2ulaoMikB_bI6Zi" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="wylZUZeFKy" class="relative group/block"><h2 id="order-and-download" class="relative group"><span class="heading-text">Order and Download</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#order-and-download" title="Link to this Section" aria-label="Link to this Section">Â¶</a></h2></div><div id="LTt6YXL247" class="relative group/block"><h3 id="obtain-authentication-token" class="relative group"><span class="heading-text">Obtain Authentication Token</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#obtain-authentication-token" title="Link to this Section" aria-label="Link to this Section">Â¶</a></h3><p>To perform our request we need to be authenticated.
Below to request of an authentication token.</p></div><div id="CwNgFAfjye" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">DESP_USERNAME = input(&quot;Please input your DESP username: &quot;)
DESP_PASSWORD = getpass(&quot;Please input your DESP password: &quot;)

auth = deauth.AuthHandler(DESP_USERNAME, DESP_PASSWORD)
access_token = auth.get_token()
if access_token is not None:
    print(&quot;DEDL/DESP Access Token Obtained Successfully&quot;)
else:
    print(&quot;Failed to Obtain DEDL/DESP Access Token&quot;)

auth_headers = {&quot;Authorization&quot;: f&quot;Bearer {access_token}&quot;}</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="Hwzn7bjiZSoc5-6NrzqGW" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Please input your DESP username:  eum-dedl-user
Please input your DESP password:  Â·Â·Â·Â·Â·Â·Â·Â·
</span></code></pre></div><div><pre class="text-sm font-thin font-system"><code><span>Response code: 200
DEDL/DESP Access Token Obtained Successfully
</span></code></pre></div></div></div><div id="xixoe4irAF" class="relative group/block"><h4 id="check-if-dt-access-is-granted" class="relative group"><span class="heading-text">Check if DT access is granted</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#check-if-dt-access-is-granted" title="Link to this Section" aria-label="Link to this Section">Â¶</a></h4><p>If DT access is not granted, you will not be able to execute the rest of the notebook.</p></div><div id="vQnRgVQUQZ" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">installed_version = importlib.metadata.version(&quot;destinelab&quot;)
version_number = installed_version.split(&#x27;.&#x27;)[1]
if((int(version_number) &gt;= 8 and float(installed_version) &lt; 1) or float(installed_version) &gt;= 1):
    auth.is_DTaccess_allowed(access_token)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="qzDDB-uEjB9YaDCTfyqdw" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>DT Output access allowed
</span></code></pre></div></div></div><div id="Trn98D8Sne" class="relative group/block"><h3 id="hda-endpoint" class="relative group"><span class="heading-text">HDA Endpoint</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#hda-endpoint" title="Link to this Section" aria-label="Link to this Section">Â¶</a></h3><p>HDA API is based on the Spatio Temporal Asset Catalog specification (STAC), it is convenient define a costant with its endpoint.
And another one with the ID of the Cliamte DT collection.</p></div><div id="vlqjmsI0TD" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">HDA_STAC_ENDPOINT=&quot;https://hda.data.destination-earth.eu/stac/v2&quot;
COLLECTION_ID=&quot;EO.ECMWF.DAT.DT_CLIMATE_ADAPTATION&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="lFPp_-A2SbR-GlZ233wqa" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="ZyiDV6Uvi2" class="relative group/block"><h3 id="convert-selected-parameters-simulation-and-levels-into-hda-request" class="relative group"><span class="heading-text">Convert selected parameters, simulation and levels into HDA request</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#convert-selected-parameters-simulation-and-levels-into-hda-request" title="Link to this Section" aria-label="Link to this Section">Â¶</a></h3><p>Convert levels (if any)</p></div><div id="XQ8Pgao8yV" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">levlInput = &quot;&quot;
if global_widget != None:
    # Test cases
    levlInput = convert_to_string(global_widget.value)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="_p5-VCGJrtTVHtGnq_5WV" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="J9pv8n64l7" class="relative group/block"><p>Convert the chosen parameters into an HDA request for Climate DT data and print the created filters.</p></div><div id="V0dszLsYbj" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">hourchoice4 = &#x27;{shour}00&#x27;.format(shour = str(get_selected_hours()).split(&quot;:&quot;)[0])

filter_params = {
  &quot;ecmwf:class&quot; : get_selected_values()[1] .get(&quot;class&quot;,&quot;d1&quot;),
  &quot;ecmwf:dataset&quot;: &quot;climate-dt&quot;,   # fixed climate-dt access
  &quot;ecmwf:activity&quot; : get_selected_values()[1][&quot;activity&quot;],
  &quot;ecmwf:experiment&quot; : get_selected_values()[1][&quot;experiment&quot;].upper(),
  &quot;ecmwf:model&quot;: get_selected_values()[1][&quot;model&quot;],
  &quot;ecmwf:generation&quot;: &quot;1&quot;,         # fixed Specifies the generation of the dataset, which can be incremented as required (latest is 1)
  &quot;ecmwf:resolution&quot;: get_selected_values()[2],      # standard/ high 
  &quot;ecmwf:expver&quot;: &quot;0001&quot;,          # fixed experiment version 
  &quot;ecmwf:stream&quot;: selected_entry[&quot;stream&quot;],
  &quot;ecmwf:time&quot;: hourchoice4,            # choose the hourly slot(s)
  &quot;ecmwf:type&quot;: &quot;fc&quot;,              # fixed forecasted fields
  &quot;ecmwf:levtype&quot;: selected_entry[&quot;levtype&quot;],  
  &quot;ecmwf:levelist&quot;: str(levlInput),  
  &quot;ecmwf:param&quot;: str(selected_entry[&quot;param&quot;]),
  &quot;ecmwf:realization&quot;:get_selected_values()[1] .get(&quot;realization&quot;, &quot;1&quot;)
}

# Print the result in JSON format
datechoice = &quot;{fname}T{shour}Z&quot;.format(fname = get_selected_values()[3], shour = get_selected_hours() )

# Check if levelist is empty and remove it
if filter_params.get(&quot;ecmwf:levelist&quot;) == &quot;&quot;:
    del filter_params[&quot;ecmwf:levelist&quot;]

if selected_entry[&quot;time&quot;] == &quot;Daily&quot;:
    del filter_params[&quot;ecmwf:time&quot;]

hdaFilters = {
    key: {&quot;eq&quot;: value}
    for key, value in filter_params.items()
}


print(&quot;Polytope API format for the selected values. The json below can be copied and used with the polytope API\n&quot;)
polytope_payload = {key.replace(&quot;ecmwf:&quot;, &quot;&quot;): value for key, value in filter_params.items()}
#add date
date4poly =get_selected_values()[3].strftime(&quot;%Y%m%d&quot;)
polytope_payload[&quot;date&quot;]=date4poly+&quot;/to/&quot;+date4poly
print(json.dumps(polytope_payload, indent=4))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="6wYqVi-oZ1q6-myNbXAiV" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Polytope API format for the selected values. The json below can be copied and used with the polytope API

{
    &quot;class&quot;: &quot;d1&quot;,
    &quot;dataset&quot;: &quot;climate-dt&quot;,
    &quot;activity&quot;: &quot;ScenarioMIP&quot;,
    &quot;experiment&quot;: &quot;SSP3-7.0&quot;,
    &quot;model&quot;: &quot;IFS-NEMO&quot;,
    &quot;generation&quot;: &quot;1&quot;,
    &quot;resolution&quot;: &quot;high&quot;,
    &quot;expver&quot;: &quot;0001&quot;,
    &quot;stream&quot;: &quot;clte&quot;,
    &quot;time&quot;: &quot;0000&quot;,
    &quot;type&quot;: &quot;fc&quot;,
    &quot;levtype&quot;: &quot;sfc&quot;,
    &quot;param&quot;: &quot;167&quot;,
    &quot;realization&quot;: &quot;1&quot;,
    &quot;date&quot;: &quot;20260606/to/20260606&quot;
}
</span></code></pre></div></div></div><div id="huVU19eAPT" class="relative group/block"><h4 id="filtering" class="relative group"><span class="heading-text">Filtering</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#filtering" title="Link to this Section" aria-label="Link to this Section">Â¶</a></h4><p>Search into asynchronous datasets, as the DTs are, always return a single item:</p></div><div id="u0j5WGFqEs" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">#Sometimes requests to polytope get timeouts, it is then convenient define a retry strategy
retry_strategy = Retry(
    total=5,  # Total number of retries
    status_forcelist=[500, 502, 503, 504],  # List of 5xx status codes to retry on
    allowed_methods=[&quot;GET&quot;,&#x27;POST&#x27;],  # Methods to retry
    backoff_factor=1  # Wait time between retries (exponential backoff)
)

# Create an adapter with the retry strategy
adapter = HTTPAdapter(max_retries=retry_strategy)

# Create a session and mount the adapter
session = requests.Session()
session.mount(&quot;https://&quot;, adapter)

response = session.post(HDA_STAC_ENDPOINT+&quot;/search&quot;, headers=auth_headers, json={
 &quot;collections&quot;: [&quot;EO.ECMWF.DAT.DT_CLIMATE_ADAPTATION&quot;],
    &quot;datetime&quot;: datechoice,
    &quot;query&quot;: hdaFilters
})

if(response.status_code!= 200):
    (print(response.text))
response.raise_for_status()

product = response.json()[&quot;features&quot;][0]
JSON(product)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="4CoCn5yusjOPPPjiumwch" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="JUNxsHMiti" class="relative group/block"><p>The single item returned (above) contains:</p><ul><li><p>The product id: â€œDT_CLIMATE_ADAPTATION_ORDERABLE_...â€, that is a placeholder, its name contains the term â€œORDERABLEâ€.</p></li><li><p>The storage:tier that indicates that the product is â€œofflineâ€</p></li><li><p>The order:status that indicates that the product is â€œorderableâ€</p></li><li><p>Request params used for the order extracted from the search result</p></li></ul></div><div id="ntxo9EP90l" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">ecmwf_properties = {
    key: value for key, value in product.get(&#x27;properties&#x27;, {}).items()
    if key.startswith(&#x27;ecmwf:&#x27;)
}

print(&quot;HDA API format for the selected values. The json below can be copied and used with the HDA order API\n&quot;)
print(json.dumps(ecmwf_properties, indent=4))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="WEU4j4_lg_jFUhGjzabgj" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>HDA API format for the selected values. The json below can be copied and used with the HDA order API

{
    &quot;ecmwf:resolution&quot;: &quot;high&quot;,
    &quot;ecmwf:model&quot;: &quot;IFS-NEMO&quot;,
    &quot;ecmwf:type&quot;: &quot;fc&quot;,
    &quot;ecmwf:dataset&quot;: &quot;climate-dt&quot;,
    &quot;ecmwf:param&quot;: &quot;167&quot;,
    &quot;ecmwf:levtype&quot;: &quot;sfc&quot;,
    &quot;ecmwf:expver&quot;: &quot;0001&quot;,
    &quot;ecmwf:date&quot;: &quot;20260606/to/20260606&quot;,
    &quot;ecmwf:realization&quot;: &quot;1&quot;,
    &quot;ecmwf:activity&quot;: &quot;ScenarioMIP&quot;,
    &quot;ecmwf:class&quot;: &quot;d1&quot;,
    &quot;ecmwf:stream&quot;: &quot;clte&quot;,
    &quot;ecmwf:time&quot;: &quot;0000&quot;,
    &quot;ecmwf:experiment&quot;: &quot;SSP3-7.0&quot;,
    &quot;ecmwf:generation&quot;: &quot;1&quot;
}
</span></code></pre></div></div></div><div id="CREh8dNOQS" class="relative group/block"><h3 id="climatedt-parameterplotter-ipynb-order-and-download" class="relative group"><span class="heading-text">Order data</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#climatedt-parameterplotter-ipynb-order-and-download" title="Link to this Section" aria-label="Link to this Section">Â¶</a></h3><p>We have now all the information to order the data.</p><p>From the search results we know that the product is orderable and offline, we then need to order the product we searched for.</p></div><div id="ByvlVzlCWv" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">response = requests.post(f&quot;{HDA_STAC_ENDPOINT}/collections/{COLLECTION_ID}/order&quot;, json=ecmwf_properties, headers=auth_headers)

if response.status_code != 200:
    print(response.content)
response.raise_for_status()

ordered_item = response.json()

product_id = ordered_item[&quot;id&quot;]
storage_tier = ordered_item[&quot;properties&quot;].get(&quot;storage:tier&quot;, &quot;online&quot;)
order_status = ordered_item[&quot;properties&quot;].get(&quot;order:status&quot;, &quot;unknown&quot;)
federation_backend = ordered_item[&quot;properties&quot;].get(&quot;federation:backends&quot;, [None])[0]

print(f&quot;Product ordered: {product_id}&quot;)
print(f&quot;Provider: {federation_backend}&quot;)
print(f&quot;Storage tier: {storage_tier} (product must have storage tier \&quot;online\&quot; to be downloadable)&quot;)
print(f&quot;Order status: {order_status}&quot;)    </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="aZcXvvplO496RaYV2kvtP" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Product ordered: f316766b-06ce-45d7-a58e-87c154d1b26a
Provider: dedt_lumi
Storage tier: offline (product must have storage tier &quot;online&quot; to be downloadable)
Order status: shipping
</span></code></pre></div></div></div><div id="oLxPBAVLNb" class="relative group/block"><h4 id="poll-the-api-until-product-is-ready" class="relative group"><span class="heading-text">Poll the API until product is ready</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#poll-the-api-until-product-is-ready" title="Link to this Section" aria-label="Link to this Section">Â¶</a></h4></div><div id="VcQJZFtKpl" class="relative group/block"><p>We request the product itself to get an update of its status.</p></div><div id="iKU4SQj63u" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">#timeout and step for polling (sec)
TIMEOUT = 300
STEP = 1
ONLINE_STATUS = &quot;online&quot;

self_url = f&quot;{HDA_STAC_ENDPOINT}/collections/{COLLECTION_ID}/items/{product_id}&quot;
item = {}

for i in range(0, TIMEOUT, STEP):
    print(f&quot;Polling {i + 1}/{TIMEOUT // STEP}&quot;)

    response = requests.get(self_url, headers=auth_headers)
    if response.status_code != 200:
        print(response.content)
    response.raise_for_status()
    item = response.json()

    storage_tier = item[&quot;properties&quot;].get(&quot;storage:tier&quot;, ONLINE_STATUS)

    if storage_tier == ONLINE_STATUS:
        download_url = item[&quot;assets&quot;][&quot;downloadLink&quot;][&quot;href&quot;]
        print(&quot;Product is ready to be downloaded.&quot;)
        print(f&quot;Asset URL: {download_url}&quot;)
        break

    sleep(STEP)
else:
    order_status = item[&quot;properties&quot;].get(&quot;order:status&quot;, &quot;unknown&quot;)
    print(f&quot;We could not download the product after {TIMEOUT // STEP} tries. Current order status is {order_status}&quot;)
    
</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="djJ5k0bMSGh26PK7u2a1J" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>Polling 1/300
Polling 2/300
Product is ready to be downloaded.
Asset URL: https://hda-download.lumi.data.destination-earth.eu/data/dedt_lumi/EO.ECMWF.DAT.DT_CLIMATE_ADAPTATION/f316766b-06ce-45d7-a58e-87c154d1b26a/downloadLink
</span></code></pre></div></div></div><div id="a2PlPkyCv3" class="relative group/block"><h2 id="download" class="relative group"><span class="heading-text">Download</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#download" title="Link to this Section" aria-label="Link to this Section">Â¶</a></h2></div><div id="g5CsbXXPTR" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">response = requests.get(download_url, stream=True, headers=auth_headers)
response.raise_for_status()

content_disposition = response.headers.get(&#x27;Content-Disposition&#x27;)
total_size = int(response.headers.get(&quot;content-length&quot;, 0))
if content_disposition:
    filename = content_disposition.split(&#x27;filename=&#x27;)[1].strip(&#x27;&quot;&#x27;)
    filename = unquote(filename)
else:
    filename = os.path.basename(url)

# Open a local file in binary write mode and write the content
print(f&quot;downloading {filename}&quot;)

with tqdm(total=total_size, unit=&quot;B&quot;, unit_scale=True) as progress_bar:
    with open(filename, &#x27;wb&#x27;) as f:
        for data in response.iter_content(1024):
            progress_bar.update(len(data))
            f.write(data)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="vuUoldbZGpWeMqQLLOULq" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><pre class="text-sm font-thin font-system"><code><span>downloading f316766b-06ce-45d7-a58e-87c154d1b26a.grib
</span></code></pre></div><div><pre class="text-sm font-thin font-system"><code><span>26.2MB [00:00, 31.5MB/s]
</span></code></pre></div></div></div><div id="EOLCgsNSyG" class="relative group/block"><h3 id="climatedt-parameterplotter-ipynb-earthkit" class="relative group"><span class="heading-text">EarthKit</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#climatedt-parameterplotter-ipynb-earthkit" title="Link to this Section" aria-label="Link to this Section">Â¶</a></h3><p>Lets plot the result file with <a target="_blank" rel="noreferrer" href="https://earthkit.readthedocs.io/en/latest/index.html" class="">EarthKit</a> selecting only the Europe area in the plot.</p></div><div id="OTyguXwOWf" class="relative group/block"><div class="flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import earthkit.data
import earthkit.plots
import earthkit.regrid

data = earthkit.data.from_source(&quot;file&quot;, filename)
earthkit.plots.quickplot(data,domain=&quot;Europe&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="MTDSpDyp2vUThoJ4U39OP" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div class="font-mono text-sm whitespace-pre-wrap"><code><span>&lt;earthkit.plots.components.figures.Figure at 0x7f1b75179110&gt;</span></code></div><img src="/build/85060b090cd5edb6fe5f3fa860e4ff9d.png" alt="&lt;Figure size 800x700 with 2 Axes&gt;"/></div></div><div></div></main></article><footer class="article footer article-grid bg-white dark:bg-slate-950 mt-10 shadow-2xl shadow py-10"><div class="" style="display:flex;align-items:center"><img id="ZpV8x7Na4U" style="margin:0 auto" src="/build/logo_bar-b51d1656abaf8e03dd73e897c7ac3aa7.png" alt="DEDL Logo" data-canonical-url="img/logo_bar.png" class=""/></div><div class="" style="text-align:center"><span class="" style="color:#E6E9F0">2025</span> <span class="" style="color:#DFEDFF">Â© All Rights Reserved.</span></div><div class="" style="display:flex;gap:0.75rem;flex-wrap:wrap;justify-content:center"><a target="_blank" rel="noreferrer" href="https://destination-earth.eu/destination-earth/" class="">About us</a> | <a target="_blank" rel="noreferrer" href="https://destination-earth.eu/news/" class="">News</a> | <a target="_blank" rel="noreferrer" href="https://destination-earth.eu/event/" class="">Events</a> | <a target="_blank" rel="noreferrer" href="https://destination-earth.eu/privacy-policy/" class="">Privacy policy</a> | <a target="_blank" rel="noreferrer" href="https://destination-earth.eu/terms-of-use/" class="">Terms of use</a></div></footer><script>((a,d)=>{if(!window.history.state||!window.history.state.key){let h=Math.random().toString(32).slice(2);window.history.replaceState({key:h},"")}try{let f=JSON.parse(sessionStorage.getItem(a)||"{}")[d||window.history.state.key];typeof f=="number"&&window.scrollTo(0,f)}catch(h){console.error(h),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/build/entry.client-UNPC4GT3.js"/><link rel="modulepreload" href="/build/_shared/chunk-OCTKKCIL.js"/><link rel="modulepreload" href="/build/_shared/chunk-UAI5KRM7.js"/><link rel="modulepreload" href="/build/_shared/chunk-2NH4LW52.js"/><link rel="modulepreload" href="/build/_shared/chunk-JSE36H2O.js"/><link rel="modulepreload" href="/build/_shared/chunk-HBJK6BW3.js"/><link rel="modulepreload" href="/build/_shared/chunk-HYMQ7M2K.js"/><link rel="modulepreload" href="/build/_shared/chunk-OHOXABTA.js"/><link rel="modulepreload" href="/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/build/_shared/chunk-C7FW3E47.js"/><link rel="modulepreload" href="/build/_shared/chunk-3CVK3PYF.js"/><link rel="modulepreload" href="/build/_shared/chunk-J6FHCSRC.js"/><link rel="modulepreload" href="/build/_shared/chunk-ND43KHSX.js"/><link rel="modulepreload" href="/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/build/root-IB5726YR.js"/><link rel="modulepreload" href="/build/_shared/chunk-NBON2RSI.js"/><link rel="modulepreload" href="/build/routes/$-LXLHKVOR.js"/><script>window.__remixContext = {"url":"/climatedt-parameterplotter","state":{"loaderData":{"root":{"config":{"version":2,"myst":"1.6.7","options":{"hide_footer_links":true,"hide_outline":true,"favicon":"/build/EUMETSAT-icon-96ce7e9141ec65f30d9ac6e866ea5ac0.ico","logo":"/build/logo_bar-b51d1656abaf8e03dd73e897c7ac3aa7.png","style":"/build/custom-e7e6e9609bbc2b97516ccfc28ac7d9d2.css"},"parts":{"footer":{"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"div","style":{"display":"flex","alignItems":"center"},"children":[{"type":"image","style":{"height":"24px","marginRight":"12px"},"url":"/build/logo_bar-b51d1656abaf8e03dd73e897c7ac3aa7.png","alt":"DEDL Logo","key":"ZpV8x7Na4U","urlSource":"img/logo_bar.png"}],"key":"ReAG2Mt86S"},{"type":"div","style":{"textAlign":"center"},"children":[{"type":"span","style":{"color":"#E6E9F0"},"children":[{"type":"text","value":"2025","key":"B9OcXbuPTX"}],"key":"uvryVE3Hqk"},{"type":"text","value":" ","key":"mTumJzDfHN"},{"type":"span","style":{"color":"#DFEDFF"},"children":[{"type":"text","value":"Â© All Rights Reserved.","key":"cbpDyvRCXp"}],"key":"Uzwa9wMZir"}],"key":"MJ83H8t3ei"},{"type":"div","style":{"display":"flex","gap":"0.75rem","flexWrap":"wrap","justifyContent":"center"},"children":[{"type":"link","style":{"color":"#DFEDFF","textDecoration":"none"},"url":"https://destination-earth.eu/destination-earth/","children":[{"type":"text","value":"About us","key":"UWv85ff8hL"}],"urlSource":"https://destination-earth.eu/destination-earth/","key":"yK9Tb6ut4j"},{"type":"text","value":" | ","key":"Dd1AkbFmGl"},{"type":"link","style":{"color":"#DFEDFF","textDecoration":"none"},"url":"https://destination-earth.eu/news/","children":[{"type":"text","value":"News","key":"h05whl6y7k"}],"urlSource":"https://destination-earth.eu/news/","key":"Tv9kGQxP4r"},{"type":"text","value":" | ","key":"in1sTMyR3M"},{"type":"link","style":{"color":"#DFEDFF","textDecoration":"none"},"url":"https://destination-earth.eu/event/","children":[{"type":"text","value":"Events","key":"tYYhS1FflL"}],"urlSource":"https://destination-earth.eu/event/","key":"XHMRNC2HL1"},{"type":"text","value":" | ","key":"d1VD3if8IE"},{"type":"link","style":{"color":"#DFEDFF","textDecoration":"none"},"url":"https://destination-earth.eu/privacy-policy/","children":[{"type":"text","value":"Privacy policy","key":"MP4pZtkDJG"}],"urlSource":"https://destination-earth.eu/privacy-policy/","key":"xBHTYDbdsN"},{"type":"text","value":" | ","key":"ctk0KBSeYC"},{"type":"link","style":{"color":"#DFEDFF","textDecoration":"none"},"url":"https://destination-earth.eu/terms-of-use/","children":[{"type":"text","value":"Terms of use","key":"Z8VcMtKozy"}],"urlSource":"https://destination-earth.eu/terms-of-use/","key":"fxMClTrj2G"}],"key":"KBGzhrtnOW"}],"key":"iPqLRI0YyR"}],"key":"a87gZYPCAn"},"frontmatter":{"parts":{},"thumbnail":"/logo_bar-b51d1656abaf8e03dd73e897c7ac3aa7.png"}}},"nav":[],"actions":[],"projects":[{"title":"DEDL Notebook Gallery","toc":[{"file":"index.md"},{"file":"contribute.md","title":"contribute"},{"children":[{"file":"production/HDA/EUM_data/DEDL-HDA-EO.EUM.DAT.METOP.AVHRRL1.ipynb","hidden":true},{"file":"production/HDA/EUM_data/DEDL-HDA-EO.EUM.DAT.MSG-1.5.ipynb","hidden":true},{"file":"production/HDA/EUM_data/DEDL-HDA-EO.EUM.DAT.MTG.ipynb","hidden":true},{"file":"production/HDA/EUM_data/DEDL-HDA-EO.EUM.DAT.SENTINEL-3.OL_1_ERR___.ipynb","hidden":true},{"file":"production/HDA/DestinE_Digital_Twins/ClimateDT-ExtractLocationValues.ipynb","hidden":true},{"file":"production/HDA/DestinE_Digital_Twins/ClimateDT-ParameterPlotter.ipynb","hidden":true},{"file":"production/HDA/DestinE_Digital_Twins/DEDL-HDA-EO.ECMWF.DAT.DT_CLIMATE-Series.ipynb","hidden":true},{"file":"production/HDA/DestinE_Digital_Twins/DEDL-HDA-EO.ECMWF.DAT.DT_CLIMATE.ipynb","hidden":true},{"file":"production/HDA/DestinE_Digital_Twins/DEDL-HDA-EO.ECMWF.DAT.DT_EXTREMES-Series.ipynb","hidden":true},{"file":"production/HDA/DestinE_Digital_Twins/DEDL-HDA-EO.ECMWF.DAT.DT_EXTREMES.ipynb","hidden":true},{"file":"production/HDA/DestinE_Digital_Twins/ExtremeDT-ParameterPlotter.ipynb","hidden":true},{"file":"production/HDA/DestinE_Digital_Twins/ExtremeDT-dataAvailability.ipynb","hidden":true},{"file":"production/HDA/CDS_data/DEDL-HDA-EO.ECMWF.DAT.REANALYSIS_ERA5_SINGLE_LEVELS.ipynb","hidden":true},{"file":"production/HDA/REST/DEDL-HDA-EO.ESA.DAT.SENTINEL-1.L1_GRD.ipynb","hidden":true},{"file":"production/HDA/REST/DEDL-HDA-EO.ESA.DAT.SENTINEL-2.MSI.L2A.ipynb","hidden":true},{"file":"production/HDA/REST/HDA-REST-Queryables.ipynb","hidden":true},{"file":"production/HDA/REST/HDA-REST-full-version.ipynb","hidden":true},{"file":"production/HDA/REST/HDA-REST-quick-start.ipynb","hidden":true},{"file":"production/HDA/PySTAC/HDA-PyStac-Client.ipynb","hidden":true},{"file":"production/HDA/EODAG/HDA-EODAG-full-version.ipynb","hidden":true},{"file":"production/HDA/EODAG/HDA-EODAG-quick-start.ipynb","hidden":true}],"file":"galleries/HDA.md","title":"HDA"},{"children":[{"file":"production/HOOK/DEDL-Hook_access.ipynb","hidden":true},{"file":"production/HOOK/DEDL-Hook_data_harvest.ipynb","hidden":true},{"file":"production/HOOK/Tutorial.ipynb","hidden":true}],"file":"galleries/HOOK.md","title":"HOOK"},{"children":[{"file":"production/STACK/DEDL_StackService_Dask.ipynb","hidden":true},{"file":"production/STACK/STACK-Dask-101.ipynb","hidden":true},{"file":"production/STACK/STACK-Python-Client-Dask.ipynb","hidden":true}],"file":"galleries/STACK.md","title":"STACK"},{"file":"galleries_by_tag/tag-access-token.md","hidden":true},{"file":"galleries_by_tag/tag-authentication.md","hidden":true},{"file":"galleries_by_tag/tag-avhrr.md","hidden":true},{"file":"galleries_by_tag/tag-c3s.md","hidden":true},{"file":"galleries_by_tag/tag-cluster.md","hidden":true},{"file":"galleries_by_tag/tag-core-api.md","hidden":true},{"file":"galleries_by_tag/tag-dask.md","hidden":true},{"file":"galleries_by_tag/tag-digital-twin.md","hidden":true},{"file":"galleries_by_tag/tag-earthkit.md","hidden":true},{"file":"galleries_by_tag/tag-ecmwf.md","hidden":true},{"file":"galleries_by_tag/tag-eodag.md","hidden":true},{"file":"galleries_by_tag/tag-gfm.md","hidden":true},{"file":"galleries_by_tag/tag-hda.md","hidden":true},{"file":"galleries_by_tag/tag-hook.md","hidden":true},{"file":"galleries_by_tag/tag-http-requests.md","hidden":true},{"file":"galleries_by_tag/tag-metop.md","hidden":true},{"file":"galleries_by_tag/tag-olci.md","hidden":true},{"file":"galleries_by_tag/tag-pyaviso.md","hidden":true},{"file":"galleries_by_tag/tag-satpy.md","hidden":true},{"file":"galleries_by_tag/tag-sentinel-3.md","hidden":true},{"file":"galleries_by_tag/tag-seviri.md","hidden":true},{"file":"galleries_by_tag/tag-stac.md","hidden":true},{"file":"galleries_by_tag/tag-stack.md","hidden":true},{"file":"galleries_by_tag/tag-storage.md","hidden":true},{"file":"galleries_by_tag/tag-token.md","hidden":true},{"file":"galleries_by_tag/tag-workflow.md","hidden":true}],"exports":[],"bibliography":[],"index":"index","pages":[{"slug":"contribute","title":"Contribute to the Gallery","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"hda","title":"HDA Gallery","description":"","date":"","thumbnail":"/build/EUMETSAT-icon-5622ee4581d60335c28e91839e666bbf.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"hook","title":"HOOK Gallery","description":"","date":"","thumbnail":"/build/EUMETSAT-icon-5622ee4581d60335c28e91839e666bbf.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"stack","title":"STACK Gallery","description":"","date":"","thumbnail":"/build/dask-55232318e36306007797c96fb8ae0744.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static"},"routes/$":{"config":{"version":2,"myst":"1.6.7","options":{"hide_footer_links":true,"hide_outline":true,"favicon":"/build/EUMETSAT-icon-96ce7e9141ec65f30d9ac6e866ea5ac0.ico","logo":"/build/logo_bar-b51d1656abaf8e03dd73e897c7ac3aa7.png","style":"/build/custom-e7e6e9609bbc2b97516ccfc28ac7d9d2.css"},"parts":{"footer":{"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"div","style":{"display":"flex","alignItems":"center"},"children":[{"type":"image","style":{"height":"24px","marginRight":"12px"},"url":"/build/logo_bar-b51d1656abaf8e03dd73e897c7ac3aa7.png","alt":"DEDL Logo","key":"ZpV8x7Na4U","urlSource":"img/logo_bar.png"}],"key":"ReAG2Mt86S"},{"type":"div","style":{"textAlign":"center"},"children":[{"type":"span","style":{"color":"#E6E9F0"},"children":[{"type":"text","value":"2025","key":"B9OcXbuPTX"}],"key":"uvryVE3Hqk"},{"type":"text","value":" ","key":"mTumJzDfHN"},{"type":"span","style":{"color":"#DFEDFF"},"children":[{"type":"text","value":"Â© All Rights Reserved.","key":"cbpDyvRCXp"}],"key":"Uzwa9wMZir"}],"key":"MJ83H8t3ei"},{"type":"div","style":{"display":"flex","gap":"0.75rem","flexWrap":"wrap","justifyContent":"center"},"children":[{"type":"link","style":{"color":"#DFEDFF","textDecoration":"none"},"url":"https://destination-earth.eu/destination-earth/","children":[{"type":"text","value":"About us","key":"UWv85ff8hL"}],"urlSource":"https://destination-earth.eu/destination-earth/","key":"yK9Tb6ut4j"},{"type":"text","value":" | ","key":"Dd1AkbFmGl"},{"type":"link","style":{"color":"#DFEDFF","textDecoration":"none"},"url":"https://destination-earth.eu/news/","children":[{"type":"text","value":"News","key":"h05whl6y7k"}],"urlSource":"https://destination-earth.eu/news/","key":"Tv9kGQxP4r"},{"type":"text","value":" | ","key":"in1sTMyR3M"},{"type":"link","style":{"color":"#DFEDFF","textDecoration":"none"},"url":"https://destination-earth.eu/event/","children":[{"type":"text","value":"Events","key":"tYYhS1FflL"}],"urlSource":"https://destination-earth.eu/event/","key":"XHMRNC2HL1"},{"type":"text","value":" | ","key":"d1VD3if8IE"},{"type":"link","style":{"color":"#DFEDFF","textDecoration":"none"},"url":"https://destination-earth.eu/privacy-policy/","children":[{"type":"text","value":"Privacy policy","key":"MP4pZtkDJG"}],"urlSource":"https://destination-earth.eu/privacy-policy/","key":"xBHTYDbdsN"},{"type":"text","value":" | ","key":"ctk0KBSeYC"},{"type":"link","style":{"color":"#DFEDFF","textDecoration":"none"},"url":"https://destination-earth.eu/terms-of-use/","children":[{"type":"text","value":"Terms of use","key":"Z8VcMtKozy"}],"urlSource":"https://destination-earth.eu/terms-of-use/","key":"fxMClTrj2G"}],"key":"KBGzhrtnOW"}],"key":"iPqLRI0YyR"}],"key":"a87gZYPCAn"},"frontmatter":{"parts":{},"thumbnail":"/logo_bar-b51d1656abaf8e03dd73e897c7ac3aa7.png"}}},"nav":[],"actions":[],"projects":[{"title":"DEDL Notebook Gallery","toc":[{"file":"index.md"},{"file":"contribute.md","title":"contribute"},{"children":[{"file":"production/HDA/EUM_data/DEDL-HDA-EO.EUM.DAT.METOP.AVHRRL1.ipynb","hidden":true},{"file":"production/HDA/EUM_data/DEDL-HDA-EO.EUM.DAT.MSG-1.5.ipynb","hidden":true},{"file":"production/HDA/EUM_data/DEDL-HDA-EO.EUM.DAT.MTG.ipynb","hidden":true},{"file":"production/HDA/EUM_data/DEDL-HDA-EO.EUM.DAT.SENTINEL-3.OL_1_ERR___.ipynb","hidden":true},{"file":"production/HDA/DestinE_Digital_Twins/ClimateDT-ExtractLocationValues.ipynb","hidden":true},{"file":"production/HDA/DestinE_Digital_Twins/ClimateDT-ParameterPlotter.ipynb","hidden":true},{"file":"production/HDA/DestinE_Digital_Twins/DEDL-HDA-EO.ECMWF.DAT.DT_CLIMATE-Series.ipynb","hidden":true},{"file":"production/HDA/DestinE_Digital_Twins/DEDL-HDA-EO.ECMWF.DAT.DT_CLIMATE.ipynb","hidden":true},{"file":"production/HDA/DestinE_Digital_Twins/DEDL-HDA-EO.ECMWF.DAT.DT_EXTREMES-Series.ipynb","hidden":true},{"file":"production/HDA/DestinE_Digital_Twins/DEDL-HDA-EO.ECMWF.DAT.DT_EXTREMES.ipynb","hidden":true},{"file":"production/HDA/DestinE_Digital_Twins/ExtremeDT-ParameterPlotter.ipynb","hidden":true},{"file":"production/HDA/DestinE_Digital_Twins/ExtremeDT-dataAvailability.ipynb","hidden":true},{"file":"production/HDA/CDS_data/DEDL-HDA-EO.ECMWF.DAT.REANALYSIS_ERA5_SINGLE_LEVELS.ipynb","hidden":true},{"file":"production/HDA/REST/DEDL-HDA-EO.ESA.DAT.SENTINEL-1.L1_GRD.ipynb","hidden":true},{"file":"production/HDA/REST/DEDL-HDA-EO.ESA.DAT.SENTINEL-2.MSI.L2A.ipynb","hidden":true},{"file":"production/HDA/REST/HDA-REST-Queryables.ipynb","hidden":true},{"file":"production/HDA/REST/HDA-REST-full-version.ipynb","hidden":true},{"file":"production/HDA/REST/HDA-REST-quick-start.ipynb","hidden":true},{"file":"production/HDA/PySTAC/HDA-PyStac-Client.ipynb","hidden":true},{"file":"production/HDA/EODAG/HDA-EODAG-full-version.ipynb","hidden":true},{"file":"production/HDA/EODAG/HDA-EODAG-quick-start.ipynb","hidden":true}],"file":"galleries/HDA.md","title":"HDA"},{"children":[{"file":"production/HOOK/DEDL-Hook_access.ipynb","hidden":true},{"file":"production/HOOK/DEDL-Hook_data_harvest.ipynb","hidden":true},{"file":"production/HOOK/Tutorial.ipynb","hidden":true}],"file":"galleries/HOOK.md","title":"HOOK"},{"children":[{"file":"production/STACK/DEDL_StackService_Dask.ipynb","hidden":true},{"file":"production/STACK/STACK-Dask-101.ipynb","hidden":true},{"file":"production/STACK/STACK-Python-Client-Dask.ipynb","hidden":true}],"file":"galleries/STACK.md","title":"STACK"},{"file":"galleries_by_tag/tag-access-token.md","hidden":true},{"file":"galleries_by_tag/tag-authentication.md","hidden":true},{"file":"galleries_by_tag/tag-avhrr.md","hidden":true},{"file":"galleries_by_tag/tag-c3s.md","hidden":true},{"file":"galleries_by_tag/tag-cluster.md","hidden":true},{"file":"galleries_by_tag/tag-core-api.md","hidden":true},{"file":"galleries_by_tag/tag-dask.md","hidden":true},{"file":"galleries_by_tag/tag-digital-twin.md","hidden":true},{"file":"galleries_by_tag/tag-earthkit.md","hidden":true},{"file":"galleries_by_tag/tag-ecmwf.md","hidden":true},{"file":"galleries_by_tag/tag-eodag.md","hidden":true},{"file":"galleries_by_tag/tag-gfm.md","hidden":true},{"file":"galleries_by_tag/tag-hda.md","hidden":true},{"file":"galleries_by_tag/tag-hook.md","hidden":true},{"file":"galleries_by_tag/tag-http-requests.md","hidden":true},{"file":"galleries_by_tag/tag-metop.md","hidden":true},{"file":"galleries_by_tag/tag-olci.md","hidden":true},{"file":"galleries_by_tag/tag-pyaviso.md","hidden":true},{"file":"galleries_by_tag/tag-satpy.md","hidden":true},{"file":"galleries_by_tag/tag-sentinel-3.md","hidden":true},{"file":"galleries_by_tag/tag-seviri.md","hidden":true},{"file":"galleries_by_tag/tag-stac.md","hidden":true},{"file":"galleries_by_tag/tag-stack.md","hidden":true},{"file":"galleries_by_tag/tag-storage.md","hidden":true},{"file":"galleries_by_tag/tag-token.md","hidden":true},{"file":"galleries_by_tag/tag-workflow.md","hidden":true}],"exports":[],"bibliography":[],"index":"index","pages":[{"slug":"contribute","title":"Contribute to the Gallery","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"hda","title":"HDA Gallery","description":"","date":"","thumbnail":"/build/EUMETSAT-icon-5622ee4581d60335c28e91839e666bbf.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"hook","title":"HOOK Gallery","description":"","date":"","thumbnail":"/build/EUMETSAT-icon-5622ee4581d60335c28e91839e666bbf.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"stack","title":"STACK Gallery","description":"","date":"","thumbnail":"/build/dask-55232318e36306007797c96fb8ae0744.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1}]}]},"page":{"version":2,"kind":"Notebook","sha256":"48b8c85c2aeca21fe540aaba64dab7a848bc5e9dbe450b6507a85fa1de9d5a52","slug":"climatedt-parameterplotter","location":"/production/HDA/DestinE_Digital_Twins/ClimateDT-ParameterPlotter.ipynb","dependencies":[],"frontmatter":{"title":"HDA Climate DT Parameter Plotter - Tutorial","subtitle":"This notebook provides an interactive workflow to select, query, download, and visualize Climate Digital Twin parameters from the DestinE Data Lake using the DEDL HDA API.","tags":["HDA","ECMWF","earthkit","Digital Twin"],"copyright":"Â© 2025 EUMETSAT","authors":[{"id":"Micheal Schick (EUMETSAT), Serena Avolio (EUMETSAT/Starion)","name":"Micheal Schick (EUMETSAT), Serena Avolio (EUMETSAT/Starion)"}],"license":{"content":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"thumbnail":"/myst_assets_folder../../img/ECMWF.png","kernelspec":{"name":"python_dedl","display_name":"Python DEDL","language":"python"},"numbering":{"title":{"offset":1}},"exports":[{"format":"ipynb","filename":"ClimateDT-ParameterPlotter.ipynb","url":"/build/ClimateDT-ParameterP-7614466bc9110ba90caffaa362b7ac47.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"div","style":{"margin":"6px 0"},"children":[{"type":"link","style":{"textDecoration":"none"},"url":"https://jupyter.central.data.destination-earth.eu/user-redirect/lab/tree/DestinE-DataLake-Lab/HDA/DestinE%20Digital%20Twins/ClimateDT-ParameterPlotter.ipynb","children":[{"type":"span","class":"launch","children":[{"type":"text","value":"ðŸš€ Launch in JupyterHub","key":"fFbFmuOeg2"}],"key":"U0z0YOTUxV"}],"urlSource":"https://jupyter.central.data.destination-earth.eu/user-redirect/lab/tree/DestinE-DataLake-Lab/HDA/DestinE%20Digital%20Twins/ClimateDT-ParameterPlotter.ipynb","key":"E604it5RAy"}],"key":"qUIgBNp6zw"}],"key":"Di1XZteaal"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"alert alert-block alert-warning","children":[{"type":"strong","children":[{"type":"text","value":"Prerequisites:","key":"MGDFJf3cfi"}],"key":"bbXQgNnZRQ"},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"To search and access DEDL data a ","key":"Ndwm8jF8Zb"},{"type":"link","url":"https://platform.destine.eu/","children":[{"type":"text","value":"DestinE user account","key":"W4GwJ9kbHf"}],"urlSource":"https://platform.destine.eu/","key":"a3nhqkcirZ"},{"type":"text","value":" is needed","key":"gyWRtlkc36"}],"key":"vjCctX1FTv"}],"key":"xNmi7NJTz1"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"To search and access DT data an ","key":"xsZFscCJU5"},{"type":"link","url":"https://platform.destine.eu/support-pages/access-policy/","children":[{"type":"text","value":"upgraded access","key":"CaSHfD2KxN"}],"urlSource":"https://platform.destine.eu/support-pages/access-policy/","key":"wTXfFu1PDS"},{"type":"text","value":" is needed.","key":"BZp8Hd9Mho"}],"key":"CC6kvkowp3"}],"key":"IWznuvUbey"}],"key":"YCedewRWpM"},{"type":"strong","children":[{"type":"text","value":"References:","key":"AwOMfW4Dwa"}],"key":"YyDGh8P15m"},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","url":"https://destine-data-lake-docs.data.destination-earth.eu/en/latest/dedl-discovery-and-data-access/Use-of-Harmonized-Data-Access/Use-of-Harmonized-Data-Access.html","children":[{"type":"text","value":"DestinE Data Lake (DEDL) Harmonized Data Access (HDA) documentation","key":"dQIACi8buG"}],"urlSource":"https://destine-data-lake-docs.data.destination-earth.eu/en/latest/dedl-discovery-and-data-access/Use-of-Harmonized-Data-Access/Use-of-Harmonized-Data-Access.html","key":"hL1RbhgWgg"}],"key":"FkiqzH360n"}],"key":"ZdHIxmc7Li"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","url":"https://destine.ecmwf.int/climate-change-adaptation-digital-twin-climate-dt/","children":[{"type":"text","value":"Climate Change Adaptation DT (Climate DT)","key":"wOAdqruMVj"}],"urlSource":"https://destine.ecmwf.int/climate-change-adaptation-digital-twin-climate-dt/","key":"eCkPugCZ1c"}],"key":"GzFkbNjuh2"}],"key":"u5t4h2ZLQn"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","url":"https://confluence.ecmwf.int/display/DDCZ/Climate+DT+Phase+1+data+catalogue","children":[{"type":"text","value":"Climate DT data catalogue","key":"C8LOyjzkfU"}],"urlSource":"https://confluence.ecmwf.int/display/DDCZ/Climate+DT+Phase+1+data+catalogue","key":"CUGuyQVoL7"}],"key":"sgNFJ7XSsq"}],"key":"TWfR7qxdA9"}],"key":"RtHQkYrwhK"},{"type":"strong","children":[{"type":"text","value":"Credit:","key":"Ghy5KyOg4S"}],"key":"ASoarJHYgj"},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Earthkit and HDA Polytope used in this context are both packages provided by the European Centre for Medium-Range Weather Forecasts (ECMWF).","key":"D8cqGGxGo9"}],"key":"SiolfGbsoa"}],"key":"BnjSqb2H7e"}],"key":"qY2xRePfp0"}],"key":"sLJ7Hbb9iy"}],"key":"SK1BhYqROI"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This notebook demonstrates how to access DT data for different types of simulations via ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uSEqT2rCDJ"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"HDA (Harmonized Data Access)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ca8AkYFW3z"}],"key":"FR2ckiig4b"},{"type":"text","value":" API.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"n8PnJTtNeH"}],"key":"q32kRlq91K"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"A correct combination of parameters is necessary to access DT data for different types of simulations.\nThe aim of this notebook is to help you create the correct request to access the desired Climate DT data, through HDA, and visualize it.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"GAY7L8p3qI"}],"key":"P8qXwoYxKt"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Below the main steps covered by this tutorial.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Ny81It0JsB"}],"key":"E2iAGRhvml"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"crossReference","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Setup","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"IKrz8Wr4rn"}],"identifier":"climatedt-parameterplotter.ipynb-setup","label":"ClimateDT-ParameterPlotter.ipynb-Setup","kind":"heading","template":"{name}","resolved":true,"html_id":"climatedt-parameterplotter-ipynb-setup","key":"vqlsxIXeJ3"},{"type":"text","value":": Import the required libraries and define some function.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"ZzRImdVbnG"}],"key":"clHyHmRqb9"}],"key":"QgLFnQKiQ6"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"crossReference","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Simulation Selection","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"ojrVcmVcIQ"}],"identifier":"climatedt-parameterplotter.ipynb-scenario-simulation-selection","label":"ClimateDT-ParameterPlotter.ipynb-Scenario-Simulation-Selection","kind":"heading","template":"{name}","resolved":true,"html_id":"climatedt-parameterplotter-ipynb-scenario-simulation-selection","key":"dQi7BabWcU"},{"type":"text","value":":  Print and select the desired scenario simulation for accessing Climate DT data.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"IU6g5EMEdj"}],"key":"lnLcr8byiz"}],"key":"HNmWhHD1at"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"paragraph","children":[{"type":"crossReference","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Parameter Selection","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"VaLQVj47iy"}],"identifier":"climatedt-parameterplotter.ipynb-parameter-selection","label":"ClimateDT-ParameterPlotter.ipynb-Parameter-Selection","kind":"heading","template":"{name}","resolved":true,"html_id":"climatedt-parameterplotter-ipynb-parameter-selection","key":"WtQN6wnXgk"},{"type":"text","value":": How to select the desired Climate DT variable among the ones available through the selected scenario.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"JKo9ALkQqo"}],"key":"dlvKRLGxWJ"}],"key":"DV7Y70uSLc"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","children":[{"type":"crossReference","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Levels Selection","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"JqNsuYB01r"}],"identifier":"climatedt-parameterplotter.ipynb-levels-selection","label":"ClimateDT-ParameterPlotter.ipynb-Levels-Selection","kind":"heading","template":"{name}","resolved":true,"html_id":"climatedt-parameterplotter-ipynb-levels-selection","key":"eO5Vz7v0zE"},{"type":"text","value":": How to Handle different Levels to be selected (if any).","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"wEAqrWCHWV"}],"key":"S9LSTZHRzA"}],"key":"RVcJAsqxD7"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"paragraph","children":[{"type":"crossReference","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Order and Download","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"xvffm8GoOC"}],"identifier":"climatedt-parameterplotter.ipynb-order-and-download","label":"ClimateDT-ParameterPlotter.ipynb-Order-and-Download","kind":"heading","template":"{name}","resolved":true,"html_id":"climatedt-parameterplotter-ipynb-order-and-download","key":"uC6jlA0mNs"},{"type":"text","value":": How to order and download Climate DT data.","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"BFpoGRgmw1"}],"key":"cRHyZu6w9K"}],"key":"Bx3va7WFga"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"paragraph","children":[{"type":"crossReference","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Plot","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"WmNe3RdRAc"}],"identifier":"climatedt-parameterplotter.ipynb-earthkit","label":"ClimateDT-ParameterPlotter.ipynb-EarthKit","kind":"heading","template":"{name}","resolved":true,"html_id":"climatedt-parameterplotter-ipynb-earthkit","key":"hzieAQZBlZ"},{"type":"text","value":": How to visualize hourly data on single levels data through Earthkit.","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"RM3V4MYm6x"}],"key":"oBlzW58J5q"}],"key":"aDJchpDluu"}],"key":"KQAysufvLy"}],"visibility":"show","key":"QE4etfdAaU"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Setup","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"ooMKQ5ZUIN"}],"label":"ClimateDT-ParameterPlotter.ipynb-Setup","identifier":"climatedt-parameterplotter.ipynb-setup","html_id":"climatedt-parameterplotter-ipynb-setup","key":"lRnyUplapy"}],"key":"nGDjxooHOA"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Import the Climate DT parameters \u0026 scenarios dictionary and all the required packages.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SEfkZSacKD"}],"key":"B5sc2VEiW5"}],"visibility":"show","key":"mCWVixV0Z5"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import destinelab as deauth\nfrom destinelab import climate_dt_dictionary\nimport ipywidgets as widgets\nimport json\nimport datetime\nimport importlib\nimport importlib.metadata as metadata\n\nimport requests\nfrom requests.adapters import HTTPAdapter\nfrom urllib3.util.retry import Retry\nimport os\nfrom getpass import getpass\nfrom tqdm import tqdm\nimport time\nfrom urllib.parse import unquote\nfrom time import sleep\nfrom IPython.display import JSON\n\nimport sys\nimport subprocess\nfrom packaging import version\n\nfrom IPython.display import display, HTML","visibility":"show","key":"RWpGA5F6iA"},{"type":"output","id":"VdOyWfuY2zqT8cfep6ksg","data":[],"visibility":"show","key":"on4VfCWCcw"}],"visibility":"show","key":"FBHnhkjqjX"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Define some useful funtions.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GBUyaOh32p"}],"key":"i4X8M7MlMc"}],"visibility":"show","key":"rchfR1lfEM"},{"type":"block","kind":"notebook-code","data":{"jupyter":{"source_hidden":true},"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"#parameters\n\ndef filter_entries(search_string):\n    return [(name, index) for i, (name, index) in enumerate(model_filtered_options)\n            if search_string.lower() in name.lower()]\n\n\ndef on_search_change(change):\n    search_string = change.new\n    if search_string:\n        filtered_options = filter_entries(search_string)\n        entry_dropdown.options = filtered_options\n    else:\n        entry_dropdown.options =model_filtered_options\n        \ndef get_selected_entry():\n    return entry_dropdown.value\n\ndef get_selected_hours():\n    selected_hour = hour_dropdown.value\n    return selected_hour\n\n#simulations-scenarios\n################################\n\n# Function to generate hourly slots\ndef generate_hourly_slots():\n    hours = []\n    for hour in range(0, 24):\n        for minute in range(0, 60, 60):  # Step by 60 minutes (1 hour)\n            hours.append(datetime.time(hour, minute))\n    return hours\n\ndef on_scenario_change(change):\n    selected_scenario_index, selected_resolution = change.new\n    selected_sc_entry = scenario_simulation_table[selected_scenario_index]\n    output.clear_output()\n    with output:\n        if(selected_sc_entry['site']==\"MARENOSTRUM\"):\n            styled_message = widgets.HTML(\n                    value=\"\u003cdiv style='color: red; font-weight: bold;'\u003eThe scenarios in Marenostrum are not available via HDA. Please select a scenario in LUMI\u003c/div\u003e\"\n                )\n            display(styled_message)\n    date_from = datetime.datetime.strptime(selected_sc_entry['dateFrom'], '%m/%d/%Y').date()\n    start_date_picker.max = None\n    start_date_picker.min = date_from\n    start_date_picker.max = datetime.datetime.strptime(selected_sc_entry['dateTo'], '%m/%d/%Y').date()\n    start_date_picker.value = date_from\n    \ndef get_selected_values():\n    selected_scenario_index, selected_resolution = scenario_dropdown.value\n    selected_scenario = scenario_simulation_table[selected_scenario_index]\n    selected_start_date = start_date_picker.value\n    selected_end_date = \"\" # end_date_picker.value\n    selected_hour = \"00:00:00\"\n        \n    return selected_scenario_index, selected_scenario, selected_resolution, selected_start_date, selected_end_date, selected_hour\n\n# kevels\n\n# Define a global variable\nglobal global_widget\nglobal_widget = None\n\n# Create a function to generate the widget based on the selection mode\ndef generate_widget(selection_mode):\n    global global_widget\n    if selection_mode == 'Single':\n        global_widget = widgets.Dropdown(options=levelist, description='Select level:')\n        return global_widget\n    elif selection_mode == 'Multiple':\n        global_widget = widgets.SelectMultiple(options=levelist, description='Select levels:')\n        return global_widget\n    \n    \n# Function to display the widget based on the selection mode\ndef display_widget(selection_mode):\n    output.clear_output()\n    with output:\n        display(generate_widget(selection_mode))\n\n# Define a function to handle the change in selection mode\ndef on_dropdown_change(change):\n    display_widget(change.new)\n    \n# Function to convert tuple or single integer to string separated by \"/\"\ndef convert_to_string(input):\n    if isinstance(input, tuple):\n        return '/'.join(map(str, input))\n    elif isinstance(input, int):\n        return str(input)\n    else:\n        return None  # Handle other types if needed\n\n    \ndef ensure_package(package: str, min_version: str = None):\n    \"\"\"\n    Ensure that a given package is installed and optionally meets a minimum version.\n    \n    Args:\n        package (str): The name of the package to check/install.\n        min_version (str, optional): Minimum version required. If None, just ensures package is installed.\n    \"\"\"\n    try:\n        # Get current version\n        current_version = metadata.version(package)\n        print(f\"Current {package} version: {current_version}\")\n        \n        # Compare versions if needed\n        if min_version and version.parse(current_version) \u003c version.parse(min_version):\n            print(f\"Upgrading {package} to \u003e= {min_version} ...\")\n            subprocess.check_call([sys.executable, \"-m\", \"pip\", \"install\", \"--user\", f\"{package}\u003e={min_version}\"])\n            print(f\"{package} updated successfully\")\n            return importlib.reload(importlib.import_module(package))\n        else:\n            print(f\"{package} is OK\")\n            return importlib.import_module(package)\n    \n    except metadata.PackageNotFoundError:\n        print(f\"{package} not installed. Installing...\")\n        install_target = f\"{package}\u003e={min_version}\" if min_version else package\n        subprocess.check_call([sys.executable, \"-m\", \"pip\", \"install\", install_target])\n        print(f\"{package} installed successfully\")\n        return importlib.import_module(package)\n    ","visibility":"show","key":"gXmaXeLCmh"},{"type":"output","id":"IADB6XrJhgaQI4-nlHCoa","data":[],"visibility":"show","key":"T4K1TlPMwy"}],"visibility":"show","key":"zTb4p4hXbs"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Scenario Simulation Selection","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"ekITJaKsOa"}],"label":"ClimateDT-ParameterPlotter.ipynb-Scenario-Simulation-Selection","identifier":"climatedt-parameterplotter.ipynb-scenario-simulation-selection","html_id":"climatedt-parameterplotter-ipynb-scenario-simulation-selection","key":"DydFcWv3L7"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Letâ€™s select now the Scenario from which we want to obtain the Climate Parameter.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"K96TvBwP4w"}],"key":"WtPQLsHqjb"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"We need to ensure to have the right version of the climate DT dictionary.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"aMQNJkrF3e"}],"key":"M96lRJk0O0"}],"key":"n6fFDK2AKS"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"pd = ensure_package(\"destinelab\", \"1.13\")","visibility":"show","key":"pzC4uudcmC"},{"type":"output","id":"kbaKBgUdAMEpM3eXF_2vG","data":[{"name":"stdout","output_type":"stream","text":"Current destinelab version: 1.13\ndestinelab is OK\n"}],"visibility":"show","key":"CAx2GHvulv"}],"visibility":"show","key":"YAHEnCn8WG"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Below the available ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hzvWR97VT4"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Climate DT simulations","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vp0Q2IQx5I"}],"key":"q6l8Vsbi4i"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JIJIY2yF8u"}],"key":"HGOT9PPxyL"}],"key":"y0XCWXqzU6"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"\n#scenario dictionary in a rich table with title per scenario.\n\nscenario_simulation_table=climate_dt_dictionary.climateDT_scenario\n\nfor simulation in scenario_simulation_table:\n    if simulation[\"activity\"]==\"ScenarioMIP\" and  simulation.get(\"realization\")==None:\n        simulation[\"type\"] = \"Future projection\"\n        if simulation[\"model\"] == \"IFS-FESOM\":\n            simulation[\"site\"] = \"MARENOSTRUM\"\n        else:\n            simulation[\"site\"] = \"LUMI\" \n    elif simulation[\"activity\"]==\"ScenarioMIP\" and  simulation.get(\"realization\")==\"2\":\n        simulation[\"type\"] = \"Future projection (NextGEMS)\"\n        simulation[\"site\"] = \"LUMI\"\n        simulation[\"dateFrom\"] = \"01/20/2020\"\n    \n    if simulation[\"activity\"]==\"CMIP6\" and  simulation.get(\"class\")==\"d1\":\n        simulation[\"type\"] = \"Historical simulation\"\n        simulation[\"site\"] = \"LUMI\"\n    elif simulation[\"activity\"]==\"CMIP6\" and  simulation.get(\"class\")==\"ng\":\n        simulation[\"type\"] = \"Historical simulation (NextGEMS)\"\n        simulation[\"site\"] = \"LUMI\"\n    \n    if simulation[\"activity\"]==\"story-nudging\" and  simulation.get(\"experiment\")==\"hist\":\n        simulation[\"type\"] = \"Storyline simulation present climate\"\n        simulation[\"site\"] = \"LUMI\"\n    elif simulation[\"activity\"]==\"story-nudging\" and  simulation.get(\"experiment\")==\"cont\":\n        simulation[\"type\"] = \"Storyline simulation past climate\"\n        simulation[\"site\"] = \"LUMI\"\n    elif simulation[\"activity\"]==\"story-nudging\" and  simulation.get(\"experiment\")==\"Tplus2.0K\":\n        simulation[\"type\"] = \"Storyline simulation future climate\"\n        simulation[\"site\"] = \"LUMI\"\n    if simulation[\"activity\"].lower()==\"highresmip\" and  simulation.get(\"experiment\")==\"cont\" and  simulation[\"model\"]==\"IFS-FESOM\":\n        simulation[\"type\"] = \"Control\"\n        simulation[\"site\"] = \"MARENOSTRUM\"\n        simulation[\"activity\"] = \"HighResMIP\"\n        \n        \nnew_cont_sc = {\"experiment\": \"cont\", \"activity\": \"HighResMIP\", \"model\": \"IFS-NEMO\"}\n\nif any(all(d.get(k) == v for k, v in new_cont_sc.items())\n       for d in scenario_simulation_table):\n    print(\"All control scenarios exist\")                \nelse:\n    scenario_simulation_table.append({\n    \"type\": \"Control\",\n    \"activity\": \"HighResMIP\",\n    \"site\": \"LUMI\",\n    \"experiment\": \"cont\",\n    \"model\": \"IFS-NEMO\",\n    \"class\": \"d1\",\n    \"resolution\":  [\"high\",\"standard\"],\n    \"dateFrom\": \"01/01/1990\",\n    \"dateTo\": \"04/30/2020\"\n    } )      \n        \nimport pandas as pd\n# Convert list of dicts to DataFrame\ndf = pd.DataFrame(scenario_simulation_table)\n\n# Convert resolution list into a comma-separated string for display\ndf['resolution'] = df['resolution'].apply(lambda x: \", \".join(x))\n\n# Reorder columns\ncolumn_order = [\"type\", \"activity\", \"model\", \"resolution\", \"dateFrom\", \"dateTo\",\"experiment\" , \"site\", \"class\"]\ndf = df[column_order]\n\n# Bold specific fields \ndf['type'] = df['type'].apply(lambda x: f\"\u003cb\u003e{x}\u003c/b\u003e\")\ndf['site'] = df['site'].apply(lambda x: f\"\u003cb\u003e{x}\u003c/b\u003e\")\ndf['dateFrom'] = df['dateFrom'].apply(lambda x: f\"\u003cb\u003e{x}\u003c/b\u003e\")\ndf['dateTo'] = df['dateTo'].apply(lambda x: f\"\u003cb\u003e{x}\u003c/b\u003e\")\n\n# Display as HTML without index\ndisplay(HTML(df.to_html(escape=False, index=False)))","visibility":"show","key":"AzY7nWZitt"},{"type":"output","id":"mK5CzdiAhQ-rHowp8rhyU","data":[{"name":"stdout","output_type":"stream","text":"All control scenarios exist\n"},{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\u003ctable border=\"1\" class=\"dataframe\"\u003e\n  \u003cthead\u003e\n    \u003ctr style=\"text-align: right;\"\u003e\n      \u003cth\u003etype\u003c/th\u003e\n      \u003cth\u003eactivity\u003c/th\u003e\n      \u003cth\u003emodel\u003c/th\u003e\n      \u003cth\u003eresolution\u003c/th\u003e\n      \u003cth\u003edateFrom\u003c/th\u003e\n      \u003cth\u003edateTo\u003c/th\u003e\n      \u003cth\u003eexperiment\u003c/th\u003e\n      \u003cth\u003esite\u003c/th\u003e\n      \u003cth\u003eclass\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003ctd\u003e\u003cb\u003eFuture projection\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003eScenarioMIP\u003c/td\u003e\n      \u003ctd\u003eIFS-NEMO\u003c/td\u003e\n      \u003ctd\u003ehigh, standard\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003e01/01/2020\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003e12/30/2039\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003essp3-7.0\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003eLUMI\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003ed1\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003e\u003cb\u003eFuture projection\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003eScenarioMIP\u003c/td\u003e\n      \u003ctd\u003eICON\u003c/td\u003e\n      \u003ctd\u003ehigh\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003e01/01/2020\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003e09/30/2033\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003essp3-7.0\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003eLUMI\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003ed1\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003e\u003cb\u003eHistorical simulation\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003eCMIP6\u003c/td\u003e\n      \u003ctd\u003eIFS-NEMO\u003c/td\u003e\n      \u003ctd\u003ehigh, standard\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003e01/01/1990\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003e12/31/1996\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003ehist\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003eLUMI\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003ed1\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003e\u003cb\u003eHistorical simulation\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003eCMIP6\u003c/td\u003e\n      \u003ctd\u003eICON\u003c/td\u003e\n      \u003ctd\u003ehigh\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003e01/03/1991\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003e10/30/2005\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003ehist\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003eLUMI\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003ed1\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003e\u003cb\u003eStoryline simulation present climate\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003estory-nudging\u003c/td\u003e\n      \u003ctd\u003eIFS-FESOM\u003c/td\u003e\n      \u003ctd\u003ehigh, standard\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003e01/01/2017\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003e12/31/2023\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003ehist\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003eLUMI\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003ed1\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003e\u003cb\u003eStoryline simulation past climate\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003estory-nudging\u003c/td\u003e\n      \u003ctd\u003eIFS-FESOM\u003c/td\u003e\n      \u003ctd\u003ehigh, standard\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003e01/01/2017\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003e12/31/2023\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003econt\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003eLUMI\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003ed1\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003e\u003cb\u003eStoryline simulation future climate\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003estory-nudging\u003c/td\u003e\n      \u003ctd\u003eIFS-FESOM\u003c/td\u003e\n      \u003ctd\u003ehigh, standard\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003e01/01/2017\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003e12/31/2023\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003eTplus2.0K\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003eLUMI\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003ed1\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003e\u003cb\u003eControl\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003eHighResMIP\u003c/td\u003e\n      \u003ctd\u003eIFS-FESOM\u003c/td\u003e\n      \u003ctd\u003estandard\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003e01/01/1990\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003e12/31/2004\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003econt\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003eMARENOSTRUM\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003ed1\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003e\u003cb\u003eFuture projection\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003eScenarioMIP\u003c/td\u003e\n      \u003ctd\u003eIFS-FESOM\u003c/td\u003e\n      \u003ctd\u003ehigh, standard\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003e01/01/2020\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003e12/31/2039\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003essp3-7.0\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003eMARENOSTRUM\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003ed1\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003e\u003cb\u003eHistorical simulation (NextGEMS)\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003eCMIP6\u003c/td\u003e\n      \u003ctd\u003eIFS-FESOM\u003c/td\u003e\n      \u003ctd\u003ehigh, standard\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003e01/01/1990\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003e12/31/2019\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003ehist\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003eLUMI\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003eng\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003e\u003cb\u003eFuture projection (NextGEMS)\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003eScenarioMIP\u003c/td\u003e\n      \u003ctd\u003eIFS-FESOM\u003c/td\u003e\n      \u003ctd\u003estandard\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003e01/20/2020\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003e12/31/2049\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003essp3-7.0\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003eLUMI\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003ed1\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003ctd\u003e\u003cb\u003eControl\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003eHighResMIP\u003c/td\u003e\n      \u003ctd\u003eIFS-NEMO\u003c/td\u003e\n      \u003ctd\u003ehigh, standard\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003e01/01/1990\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003e04/30/2020\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003econt\u003c/td\u003e\n      \u003ctd\u003e\u003cb\u003eLUMI\u003c/b\u003e\u003c/td\u003e\n      \u003ctd\u003ed1\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e","content_type":"text/html"},"text/plain":{"content":"\u003cIPython.core.display.HTML object\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"z3clRNhA6b"}],"visibility":"show","key":"huyznbYHVH"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"div","class":"alert alert-block alert-danger","children":[{"type":"strong","children":[{"type":"text","value":"Note:","key":"Ljbl3B93Up"}],"key":"bFtRgxKXeJ"},{"type":"paragraph","children":[{"type":"text","value":"Please note that the two scenarios in Marenostrum site are still not available through HDA.","key":"rWo2iiEZ8i"}],"key":"bcaTvoTENX"}],"key":"H3AVdHwC6p"}],"visibility":"show","key":"rjsXkpmDGY"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create dropdown to select scenario\nscenario_dropdown = widgets.Dropdown(\n    options=[(f\"{entry['type']} - {entry['model']} - {resolution}\", (i, resolution)) \n             for i, entry in enumerate(scenario_simulation_table) for resolution in entry['resolution']],\n    description='Scenario:', layout=widgets.Layout(width='500px')\n)\n\n# Create date picker widgets\nstart_date_picker = widgets.DatePicker(description='Start Date:', disabled=False, layout=widgets.Layout(width='500px'))\n\noutput = widgets.Output()\n\n\n# handle dropdown event\nscenario_dropdown.observe(on_scenario_change, names='value')\n\n# Set initial values directly\nselected_sc_entry = scenario_simulation_table[0]\n\n# Convert dateFrom string to date object\ndate_from = datetime.datetime.strptime(selected_sc_entry['dateFrom'], '%m/%d/%Y').date()\n\n# Set initial values directly\nstart_date_picker.min = date_from\nstart_date_picker.max = datetime.datetime.strptime(selected_sc_entry['dateTo'], '%m/%d/%Y').date()\nstart_date_picker.value = date_from\n\ndisplay(scenario_dropdown, start_date_picker, output)","visibility":"show","key":"x58Y71GSMq"},{"type":"output","id":"Jh1yk2rgvnEEPxPMjTZ7u","data":[{"output_type":"display_data","metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"5129f10721b84f71a3c4db3a7ee3cc62\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"Dropdown(description='Scenario:', layout=Layout(width='500px'), options=(('Future projection - IFS-NEMO - highâ€¦","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"e345b10c09bb4082a993d1f7514eb013\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"DatePicker(value=datetime.date(2020, 1, 1), description='Start Date:', layout=Layout(width='500px'), max=datetâ€¦","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"6ac4061ab6084640b52cdb08d8e9ade2\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"Output()","content_type":"text/plain"}}}],"visibility":"show","key":"Rr13Ox4VUZ"}],"visibility":"show","key":"P0ssAYStcs"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"selected_scenario_index, selected_scenario, selected_resolution, selected_start_date, selected_end_date, selected_hour = get_selected_values()","visibility":"show","key":"tE3Fka5Pb4"},{"type":"output","id":"vShfUCU-Wu1E6sKYNBX31","data":[],"visibility":"show","key":"vnHQniTST5"}],"visibility":"show","key":"LfiRjnMpbi"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Parameter Selection","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"AOzsf5Ij2R"}],"label":"ClimateDT-ParameterPlotter.ipynb-Parameter-Selection","identifier":"climatedt-parameterplotter.ipynb-parameter-selection","html_id":"climatedt-parameterplotter-ipynb-parameter-selection","key":"DMnPPoY4dK"}],"key":"b338JzmX7N"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Climate DT variable selection (we limit the plotting to one variable).\nThe variable selection is conditioned by the chosen simulation scenario.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Xvv12YKqac"}],"key":"LGKwZjOkj5"}],"key":"brv1i4gX6d"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"text=widgets.Label(value='Start writing the name of the parameter of interest in the search box and/or open the dropdown menu below')\n\n# Create search box\nsearch_box = widgets.Text(placeholder='Search by parameter name', description='Search:', disabled=False)\n\n#clean the parameters to fix some errors in the current dictionary definition\ncleaned_climate_dt_dictionary=[\n    d for d in climate_dt_dictionary.climateDT_params\n    if not (d.get(\"param\") == \"130\" and d.get(\"levtype\") == \"sfc\") \n    and not ((d.get(\"param\") == \"129\" or d.get(\"param\") == \"172\") and d.get(\"levtype\") == \"sfc\" and (\"NextGEMS\" in selected_scenario['type'])) \n]\n\nmodel_filtered_options = [\n    (entry['paramName'], i)\n    for i, entry in enumerate(cleaned_climate_dt_dictionary)\n    if (selected_scenario['model'] in (entry['isFESOM'] ,entry['isIcon'],entry['isNemo']))\n]\n\n\n# Create dropdown to select entry\nentry_dropdown = widgets.Dropdown(\n    options=model_filtered_options,\n    description='Select Entry:'\n)\n\n# handle search box event\nsearch_box.observe(on_search_change, names='value')\n\n# Display widgets\ndisplay(text,search_box, entry_dropdown)\n","visibility":"show","key":"F1HMkz9ChP"},{"type":"output","id":"XrchzMKBw_7i1YLwkH9NQ","data":[{"output_type":"display_data","metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"d341f1c59ae147ea8d0172566b819ca2\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"Label(value='Start writing the name of the parameter of interest in the search box and/or open the dropdown meâ€¦","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"0b9a2cf11fad4697b23f4fe2dbe8d79f\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"Text(value='', description='Search:', placeholder='Search by parameter name')","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"8feed6f9a21e4ce59d095b96430dcd6c\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"Dropdown(description='Select Entry:', options=(('Total column cloud liquid water', 0), ('Total column cloud icâ€¦","content_type":"text/plain"}}}],"visibility":"show","key":"Ic84v0nTBb"}],"visibility":"show","key":"byjKfRVV4R"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Letâ€™s see the  details of the selected parameter (Polytope convention).\nIt is possible to check the its characteristics, time resolution, levels...","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VvsON5bGKg"}],"key":"ylCrAGw9u6"}],"key":"vqoZmoQNaC"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"selected_index = get_selected_entry()\nselected_entry = cleaned_climate_dt_dictionary[selected_index]\nprint(json.dumps(selected_entry,indent=4))","visibility":"show","key":"RrgM5dWmRD"},{"type":"output","id":"81XXHsJRxTJM1bYT48_8l","data":[{"name":"stdout","output_type":"stream","text":"{\n    \"param\": \"167\",\n    \"paramName\": \"2 metre temperature\",\n    \"shortName\": \"2t\",\n    \"unit\": \"K\",\n    \"encoding\": \"instantaneous\",\n    \"isNemo\": \"IFS-NEMO\",\n    \"isIcon\": \"ICON\",\n    \"isFESOM\": \"IFS-FESOM\",\n    \"stream\": \"clte\",\n    \"type\": \"fc\",\n    \"time\": \"Hourly\",\n    \"levtype\": \"sfc\",\n    \"levelist\": \"\"\n}\n"}],"visibility":"show","key":"mpigw8GoCD"}],"visibility":"show","key":"ozascmlPCM"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Create dropdown to select hour\nhourly_slots = generate_hourly_slots()\nhour_dropdown = widgets.Dropdown(options=[(str(slot), slot) for slot in hourly_slots], description='Select Hour:', disabled=False)\n\n\n# Display widgets\nif selected_entry[\"time\"] == \"Hourly\":\n    display( hour_dropdown)","key":"HpRbMrZVNc"},{"type":"output","id":"09EV6jhjgAlUlo27Q2jRP","data":[{"output_type":"display_data","metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"f76b6f2d7aaa45bf950bceee850c6b4b\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"Dropdown(description='Select Hour:', options=(('00:00:00', datetime.time(0, 0)), ('01:00:00', datetime.time(1,â€¦","content_type":"text/plain"}}}],"key":"bWq0cHPBHt"}],"key":"xH4dcTjDJb"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Levels Selection","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"ygoxnbShAR"}],"label":"ClimateDT-ParameterPlotter.ipynb-Levels-Selection","identifier":"climatedt-parameterplotter.ipynb-levels-selection","html_id":"climatedt-parameterplotter-ipynb-levels-selection","key":"UAItq00ttv"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Handle different Levels to be selected (if any)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LruKFVaBFS"}],"key":"p3hKcgwisR"}],"key":"ER7endHU2n"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"if selected_entry[\"levelist\"] != \"\":\n    # Convert levelist string to list of integers\n    levelist = list(map(int, selected_entry[\"levelist\"].split('/')))\n    if(selected_scenario['model']=='IFS-NEMO'):\n        levelist = levelist + [73,74,75]\n\n    # Create a dropdown widget to choose selection mode\n    selection_mode_dropdown = widgets.Dropdown(options=['Single', 'Multiple'], description='Selection Mode:')\n\n    # Create an output widget to display the selected option(s)\n    output = widgets.Output()\n\n    # Register the function to handle dropdown changes\n    selection_mode_dropdown.observe(on_dropdown_change, names='value')\n\n    # Display the widgets\n    display(selection_mode_dropdown, output)\n\n    # Display the initial widget based on default selection mode\n    display_widget('Single')","visibility":"show","key":"fJ9d4WGtKi"},{"type":"output","id":"O1KDFG2ulaoMikB_bI6Zi","data":[],"visibility":"show","key":"uU7Thncl6R"}],"visibility":"show","key":"m5Ke6AlTUK"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Order and Download","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GpEYjOA4yY"}],"identifier":"order-and-download","label":"Order and Download","html_id":"order-and-download","implicit":true,"key":"kXpStVrmEg"}],"key":"wylZUZeFKy"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Obtain Authentication Token","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yH1aafwIhu"}],"identifier":"obtain-authentication-token","label":"Obtain Authentication Token","html_id":"obtain-authentication-token","implicit":true,"key":"KS6nXdBNvu"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"To perform our request we need to be authenticated.\nBelow to request of an authentication token.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MYFRiXB8HW"}],"key":"vk0yzkZUo0"}],"visibility":"show","key":"LTt6YXL247"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"DESP_USERNAME = input(\"Please input your DESP username: \")\nDESP_PASSWORD = getpass(\"Please input your DESP password: \")\n\nauth = deauth.AuthHandler(DESP_USERNAME, DESP_PASSWORD)\naccess_token = auth.get_token()\nif access_token is not None:\n    print(\"DEDL/DESP Access Token Obtained Successfully\")\nelse:\n    print(\"Failed to Obtain DEDL/DESP Access Token\")\n\nauth_headers = {\"Authorization\": f\"Bearer {access_token}\"}","visibility":"show","key":"HzMosRRymX"},{"type":"output","id":"Hwzn7bjiZSoc5-6NrzqGW","data":[{"name":"stdout","output_type":"stream","text":"Please input your DESP username:  eum-dedl-user\nPlease input your DESP password:  Â·Â·Â·Â·Â·Â·Â·Â·\n"},{"name":"stdout","output_type":"stream","text":"Response code: 200\nDEDL/DESP Access Token Obtained Successfully\n"}],"visibility":"show","key":"msewaRQtar"}],"visibility":"show","key":"CwNgFAfjye"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Check if DT access is granted","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cg2wCwQQWj"}],"identifier":"check-if-dt-access-is-granted","label":"Check if DT access is granted","html_id":"check-if-dt-access-is-granted","implicit":true,"key":"RPMQTDzo1y"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"If DT access is not granted, you will not be able to execute the rest of the notebook.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hK5appIygm"}],"key":"L21SKdrJkk"}],"visibility":"show","key":"xixoe4irAF"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"installed_version = importlib.metadata.version(\"destinelab\")\nversion_number = installed_version.split('.')[1]\nif((int(version_number) \u003e= 8 and float(installed_version) \u003c 1) or float(installed_version) \u003e= 1):\n    auth.is_DTaccess_allowed(access_token)","visibility":"show","key":"uoKOPVNFQ2"},{"type":"output","id":"qzDDB-uEjB9YaDCTfyqdw","data":[{"name":"stdout","output_type":"stream","text":"DT Output access allowed\n"}],"visibility":"show","key":"J7pqpRAQOm"}],"visibility":"show","key":"vQnRgVQUQZ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"HDA Endpoint","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JwRdJL3Gco"}],"identifier":"hda-endpoint","label":"HDA Endpoint","html_id":"hda-endpoint","implicit":true,"key":"VEZlkJmTqj"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"HDA API is based on the Spatio Temporal Asset Catalog specification (STAC), it is convenient define a costant with its endpoint.\nAnd another one with the ID of the Cliamte DT collection.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"qvEcNaXCk7"}],"key":"o5v8uDjBTO"}],"key":"Trn98D8Sne"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"HDA_STAC_ENDPOINT=\"https://hda.data.destination-earth.eu/stac/v2\"\nCOLLECTION_ID=\"EO.ECMWF.DAT.DT_CLIMATE_ADAPTATION\"","visibility":"show","key":"vO86m0J3xy"},{"type":"output","id":"lFPp_-A2SbR-GlZ233wqa","data":[],"visibility":"show","key":"ax6RiXVm6N"}],"visibility":"show","key":"vlqjmsI0TD"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Convert selected parameters, simulation and levels into HDA request","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HGLHFRrcOb"}],"identifier":"convert-selected-parameters-simulation-and-levels-into-hda-request","label":"Convert selected parameters, simulation and levels into HDA request","html_id":"convert-selected-parameters-simulation-and-levels-into-hda-request","implicit":true,"key":"I4yyyX2Znf"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Convert levels (if any)","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"RbsipiWD7r"}],"key":"Ilbw1AnRY8"}],"key":"ZyiDV6Uvi2"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"levlInput = \"\"\nif global_widget != None:\n    # Test cases\n    levlInput = convert_to_string(global_widget.value)","visibility":"show","key":"gSXwWTGtiz"},{"type":"output","id":"_p5-VCGJrtTVHtGnq_5WV","data":[],"visibility":"show","key":"O3jeXNFFTp"}],"visibility":"show","key":"XQ8Pgao8yV"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Convert the chosen parameters into an HDA request for Climate DT data and print the created filters.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"G79IiKnzJW"}],"key":"ihO6Qg59My"}],"key":"J9pv8n64l7"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"hourchoice4 = '{shour}00'.format(shour = str(get_selected_hours()).split(\":\")[0])\n\nfilter_params = {\n  \"ecmwf:class\" : get_selected_values()[1] .get(\"class\",\"d1\"),\n  \"ecmwf:dataset\": \"climate-dt\",   # fixed climate-dt access\n  \"ecmwf:activity\" : get_selected_values()[1][\"activity\"],\n  \"ecmwf:experiment\" : get_selected_values()[1][\"experiment\"].upper(),\n  \"ecmwf:model\": get_selected_values()[1][\"model\"],\n  \"ecmwf:generation\": \"1\",         # fixed Specifies the generation of the dataset, which can be incremented as required (latest is 1)\n  \"ecmwf:resolution\": get_selected_values()[2],      # standard/ high \n  \"ecmwf:expver\": \"0001\",          # fixed experiment version \n  \"ecmwf:stream\": selected_entry[\"stream\"],\n  \"ecmwf:time\": hourchoice4,            # choose the hourly slot(s)\n  \"ecmwf:type\": \"fc\",              # fixed forecasted fields\n  \"ecmwf:levtype\": selected_entry[\"levtype\"],  \n  \"ecmwf:levelist\": str(levlInput),  \n  \"ecmwf:param\": str(selected_entry[\"param\"]),\n  \"ecmwf:realization\":get_selected_values()[1] .get(\"realization\", \"1\")\n}\n\n# Print the result in JSON format\ndatechoice = \"{fname}T{shour}Z\".format(fname = get_selected_values()[3], shour = get_selected_hours() )\n\n# Check if levelist is empty and remove it\nif filter_params.get(\"ecmwf:levelist\") == \"\":\n    del filter_params[\"ecmwf:levelist\"]\n\nif selected_entry[\"time\"] == \"Daily\":\n    del filter_params[\"ecmwf:time\"]\n\nhdaFilters = {\n    key: {\"eq\": value}\n    for key, value in filter_params.items()\n}\n\n\nprint(\"Polytope API format for the selected values. The json below can be copied and used with the polytope API\\n\")\npolytope_payload = {key.replace(\"ecmwf:\", \"\"): value for key, value in filter_params.items()}\n#add date\ndate4poly =get_selected_values()[3].strftime(\"%Y%m%d\")\npolytope_payload[\"date\"]=date4poly+\"/to/\"+date4poly\nprint(json.dumps(polytope_payload, indent=4))","visibility":"show","key":"ADrf5Dj0JM"},{"type":"output","id":"6wYqVi-oZ1q6-myNbXAiV","data":[{"name":"stdout","output_type":"stream","text":"Polytope API format for the selected values. The json below can be copied and used with the polytope API\n\n{\n    \"class\": \"d1\",\n    \"dataset\": \"climate-dt\",\n    \"activity\": \"ScenarioMIP\",\n    \"experiment\": \"SSP3-7.0\",\n    \"model\": \"IFS-NEMO\",\n    \"generation\": \"1\",\n    \"resolution\": \"high\",\n    \"expver\": \"0001\",\n    \"stream\": \"clte\",\n    \"time\": \"0000\",\n    \"type\": \"fc\",\n    \"levtype\": \"sfc\",\n    \"param\": \"167\",\n    \"realization\": \"1\",\n    \"date\": \"20260606/to/20260606\"\n}\n"}],"visibility":"show","key":"tWY14ivhVL"}],"visibility":"show","key":"V0dszLsYbj"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Filtering","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"npZlOLewwT"}],"identifier":"filtering","label":"Filtering","html_id":"filtering","implicit":true,"key":"riVdwzciyg"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Search into asynchronous datasets, as the DTs are, always return a single item:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"eEtz5c1lpc"}],"key":"U8yUDJFsOl"}],"visibility":"show","key":"huVU19eAPT"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"#Sometimes requests to polytope get timeouts, it is then convenient define a retry strategy\nretry_strategy = Retry(\n    total=5,  # Total number of retries\n    status_forcelist=[500, 502, 503, 504],  # List of 5xx status codes to retry on\n    allowed_methods=[\"GET\",'POST'],  # Methods to retry\n    backoff_factor=1  # Wait time between retries (exponential backoff)\n)\n\n# Create an adapter with the retry strategy\nadapter = HTTPAdapter(max_retries=retry_strategy)\n\n# Create a session and mount the adapter\nsession = requests.Session()\nsession.mount(\"https://\", adapter)\n\nresponse = session.post(HDA_STAC_ENDPOINT+\"/search\", headers=auth_headers, json={\n \"collections\": [\"EO.ECMWF.DAT.DT_CLIMATE_ADAPTATION\"],\n    \"datetime\": datechoice,\n    \"query\": hdaFilters\n})\n\nif(response.status_code!= 200):\n    (print(response.text))\nresponse.raise_for_status()\n\nproduct = response.json()[\"features\"][0]\nJSON(product)","visibility":"show","key":"CBiRXZqy5m"},{"type":"output","id":"4CoCn5yusjOPPPjiumwch","data":[{"output_type":"execute_result","execution_count":17,"metadata":{"application/json":{"expanded":false,"root":"root"}},"data":{"application/json":{"content":"{\"assets\":{},\"bbox\":[-180,-90,180,90],\"collection\":\"EO.ECMWF.DAT.DT_CLIMATE_ADAPTATION\",\"geometry\":{\"coordinates\":[[[180,-90],[180,90],[-180,90],[-180,-90],[180,-90]]],\"type\":\"Polygon\"},\"id\":\"DT_CLIMATE_ADAPTATION_ORDERABLE_a553612ba7e4801cccf92a1d2634b24aa32cc220\",\"links\":[{\"body\":{\"activity\":\"ScenarioMIP\",\"class\":\"d1\",\"dataset\":\"climate-dt\",\"date\":\"20260606/to/20260606\",\"experiment\":\"SSP3-7.0\",\"expver\":\"0001\",\"generation\":\"1\",\"levtype\":\"sfc\",\"model\":\"IFS-NEMO\",\"param\":\"167\",\"realization\":\"1\",\"resolution\":\"high\",\"stream\":\"clte\",\"time\":\"0000\",\"type\":\"fc\"},\"href\":\"https://hda.data.destination-earth.eu/stac/v2/collections/EO.ECMWF.DAT.DT_CLIMATE_ADAPTATION/order\",\"method\":\"POST\",\"rel\":\"retrieve\",\"title\":\"Retrieve\",\"type\":\"application/geo+json\"},{\"href\":\"https://hda.data.destination-earth.eu/stac/v2/collections/EO.ECMWF.DAT.DT_CLIMATE_ADAPTATION\",\"rel\":\"collection\",\"title\":\"EO.ECMWF.DAT.DT_CLIMATE_ADAPTATION\",\"type\":\"application/json\"},{\"href\":\"https://hda.data.destination-earth.eu/stac/v2/collections/EO.ECMWF.DAT.DT_CLIMATE_ADAPTATION/items/DT_CLIMATE_ADAPTATION_ORDERABLE_a553612ba7e4801cccf92a1d2634b24aa32cc220\",\"rel\":\"self\",\"title\":\"Original item link\",\"type\":\"application/geo+json\"}],\"properties\":{\"alias\":\"EO.ECMWF.DAT.DT_CLIMATE_ADAPTATION\",\"collection\":\"climate-dt\",\"datetime\":\"2026-06-06T00:00:00.000000Z\",\"ecmwf:activity\":\"ScenarioMIP\",\"ecmwf:class\":\"d1\",\"ecmwf:dataset\":\"climate-dt\",\"ecmwf:date\":\"20260606/to/20260606\",\"ecmwf:experiment\":\"SSP3-7.0\",\"ecmwf:expver\":\"0001\",\"ecmwf:generation\":\"1\",\"ecmwf:levtype\":\"sfc\",\"ecmwf:model\":\"IFS-NEMO\",\"ecmwf:param\":\"167\",\"ecmwf:realization\":\"1\",\"ecmwf:resolution\":\"high\",\"ecmwf:stream\":\"clte\",\"ecmwf:time\":\"0000\",\"ecmwf:type\":\"fc\",\"end_datetime\":\"2026-06-06T00:00:00.000000Z\",\"federation:backends\":[\"dedt_lumi\"],\"license\":\"CC-BY-4.0\",\"order:status\":\"orderable\",\"scope\":{\"discover\":null,\"download\":\"DPAD_Direct_Access\",\"search\":\"DPAD_Direct_Access\"},\"stacCollection\":\"/eodag/collections/EO.ECMWF.DAT.DT_CLIMATE_ADAPTATION.json\",\"start_datetime\":\"2026-06-06T00:00:00.000000Z\",\"storage:tier\":\"offline\",\"title\":\"DT_CLIMATE_ADAPTATION_ORDERABLE_a553612ba7e4801cccf92a1d2634b24aa32cc220\"},\"stac_extensions\":[\"https://stac-extensions.github.io/storage/v1.0.0/schema.json\",\"https://stac-extensions.github.io/order/v1.1.0/schema.json\"],\"stac_version\":\"1.0.0\",\"type\":\"Feature\"}","content_type":"application/json"},"text/plain":{"content":"\u003cIPython.core.display.JSON object\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"LQKq2XfcGi"}],"visibility":"show","key":"u0j5WGFqEs"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The single item returned (above) contains:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cWQ3l3PFAQ"}],"key":"Xyu5qS4Vbx"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":2,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The product id: â€œDT_CLIMATE_ADAPTATION_ORDERABLE_...â€, that is a placeholder, its name contains the term â€œORDERABLEâ€.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"J3FGAVE5GJ"}],"key":"Nh4nKcrvUB"}],"key":"jD32QdyPKX"},{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The storage:tier that indicates that the product is â€œofflineâ€","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"JdxCKQlae3"}],"key":"uAt7Z29FAF"}],"key":"CFk7wClaoN"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The order:status that indicates that the product is â€œorderableâ€","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"UeR03X5tt1"}],"key":"b8VzKwkgnh"}],"key":"w7o3QzSdiV"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Request params used for the order extracted from the search result","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"RiCcZWwF9d"}],"key":"Yo4RFWMcY6"}],"key":"dW4thNXjZY"}],"key":"eozRoAWq2a"}],"key":"JUNxsHMiti"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"ecmwf_properties = {\n    key: value for key, value in product.get('properties', {}).items()\n    if key.startswith('ecmwf:')\n}\n\nprint(\"HDA API format for the selected values. The json below can be copied and used with the HDA order API\\n\")\nprint(json.dumps(ecmwf_properties, indent=4))","visibility":"show","key":"maJqVmQBO5"},{"type":"output","id":"WEU4j4_lg_jFUhGjzabgj","data":[{"name":"stdout","output_type":"stream","text":"HDA API format for the selected values. The json below can be copied and used with the HDA order API\n\n{\n    \"ecmwf:resolution\": \"high\",\n    \"ecmwf:model\": \"IFS-NEMO\",\n    \"ecmwf:type\": \"fc\",\n    \"ecmwf:dataset\": \"climate-dt\",\n    \"ecmwf:param\": \"167\",\n    \"ecmwf:levtype\": \"sfc\",\n    \"ecmwf:expver\": \"0001\",\n    \"ecmwf:date\": \"20260606/to/20260606\",\n    \"ecmwf:realization\": \"1\",\n    \"ecmwf:activity\": \"ScenarioMIP\",\n    \"ecmwf:class\": \"d1\",\n    \"ecmwf:stream\": \"clte\",\n    \"ecmwf:time\": \"0000\",\n    \"ecmwf:experiment\": \"SSP3-7.0\",\n    \"ecmwf:generation\": \"1\"\n}\n"}],"visibility":"show","key":"d68CsS1Ma8"}],"visibility":"show","key":"ntxo9EP90l"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Order data","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Zi6Fm1EQp2"}],"label":"ClimateDT-ParameterPlotter.ipynb-Order-and-Download","identifier":"climatedt-parameterplotter.ipynb-order-and-download","html_id":"climatedt-parameterplotter-ipynb-order-and-download","key":"iLQsJNhSww"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"We have now all the information to order the data.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"nI2GOHkQ9n"}],"key":"NhWcLvVV2e"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"From the search results we know that the product is orderable and offline, we then need to order the product we searched for.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Ozmxg4pzhF"}],"key":"ZDIs4XORvX"}],"key":"CREh8dNOQS"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"response = requests.post(f\"{HDA_STAC_ENDPOINT}/collections/{COLLECTION_ID}/order\", json=ecmwf_properties, headers=auth_headers)\n\nif response.status_code != 200:\n    print(response.content)\nresponse.raise_for_status()\n\nordered_item = response.json()\n\nproduct_id = ordered_item[\"id\"]\nstorage_tier = ordered_item[\"properties\"].get(\"storage:tier\", \"online\")\norder_status = ordered_item[\"properties\"].get(\"order:status\", \"unknown\")\nfederation_backend = ordered_item[\"properties\"].get(\"federation:backends\", [None])[0]\n\nprint(f\"Product ordered: {product_id}\")\nprint(f\"Provider: {federation_backend}\")\nprint(f\"Storage tier: {storage_tier} (product must have storage tier \\\"online\\\" to be downloadable)\")\nprint(f\"Order status: {order_status}\")    ","visibility":"show","key":"bA6AjLPQlS"},{"type":"output","id":"aZcXvvplO496RaYV2kvtP","data":[{"name":"stdout","output_type":"stream","text":"Product ordered: f316766b-06ce-45d7-a58e-87c154d1b26a\nProvider: dedt_lumi\nStorage tier: offline (product must have storage tier \"online\" to be downloadable)\nOrder status: shipping\n"}],"visibility":"show","key":"kdQ6xhLzbK"}],"visibility":"show","key":"ByvlVzlCWv"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Poll the API until product is ready","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pgkk8vW2zY"}],"identifier":"poll-the-api-until-product-is-ready","label":"Poll the API until product is ready","html_id":"poll-the-api-until-product-is-ready","implicit":true,"key":"figMjhZtxC"}],"key":"oLxPBAVLNb"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We request the product itself to get an update of its status.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"e3SLS187Qs"}],"key":"MTucB63WXF"}],"visibility":"show","key":"VcQJZFtKpl"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"#timeout and step for polling (sec)\nTIMEOUT = 300\nSTEP = 1\nONLINE_STATUS = \"online\"\n\nself_url = f\"{HDA_STAC_ENDPOINT}/collections/{COLLECTION_ID}/items/{product_id}\"\nitem = {}\n\nfor i in range(0, TIMEOUT, STEP):\n    print(f\"Polling {i + 1}/{TIMEOUT // STEP}\")\n\n    response = requests.get(self_url, headers=auth_headers)\n    if response.status_code != 200:\n        print(response.content)\n    response.raise_for_status()\n    item = response.json()\n\n    storage_tier = item[\"properties\"].get(\"storage:tier\", ONLINE_STATUS)\n\n    if storage_tier == ONLINE_STATUS:\n        download_url = item[\"assets\"][\"downloadLink\"][\"href\"]\n        print(\"Product is ready to be downloaded.\")\n        print(f\"Asset URL: {download_url}\")\n        break\n\n    sleep(STEP)\nelse:\n    order_status = item[\"properties\"].get(\"order:status\", \"unknown\")\n    print(f\"We could not download the product after {TIMEOUT // STEP} tries. Current order status is {order_status}\")\n    \n","visibility":"show","key":"egYEdwTaR4"},{"type":"output","id":"djJ5k0bMSGh26PK7u2a1J","data":[{"name":"stdout","output_type":"stream","text":"Polling 1/300\nPolling 2/300\nProduct is ready to be downloaded.\nAsset URL: https://hda-download.lumi.data.destination-earth.eu/data/dedt_lumi/EO.ECMWF.DAT.DT_CLIMATE_ADAPTATION/f316766b-06ce-45d7-a58e-87c154d1b26a/downloadLink\n"}],"visibility":"show","key":"PhiWeFRMXG"}],"visibility":"show","key":"iKU4SQj63u"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Download","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"r39LcRJ1Nf"}],"identifier":"download","label":"Download","html_id":"download","implicit":true,"key":"o02s7JzO6H"}],"key":"a2PlPkyCv3"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"response = requests.get(download_url, stream=True, headers=auth_headers)\nresponse.raise_for_status()\n\ncontent_disposition = response.headers.get('Content-Disposition')\ntotal_size = int(response.headers.get(\"content-length\", 0))\nif content_disposition:\n    filename = content_disposition.split('filename=')[1].strip('\"')\n    filename = unquote(filename)\nelse:\n    filename = os.path.basename(url)\n\n# Open a local file in binary write mode and write the content\nprint(f\"downloading {filename}\")\n\nwith tqdm(total=total_size, unit=\"B\", unit_scale=True) as progress_bar:\n    with open(filename, 'wb') as f:\n        for data in response.iter_content(1024):\n            progress_bar.update(len(data))\n            f.write(data)","visibility":"show","key":"qJn4hkVmBS"},{"type":"output","id":"vuUoldbZGpWeMqQLLOULq","data":[{"name":"stdout","output_type":"stream","text":"downloading f316766b-06ce-45d7-a58e-87c154d1b26a.grib\n"},{"name":"stderr","output_type":"stream","text":"26.2MB [00:00, 31.5MB/s]\n"}],"visibility":"show","key":"iQdOSPphlA"}],"visibility":"show","key":"g5CsbXXPTR"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"EarthKit","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"liClXiLBjz"}],"label":"ClimateDT-ParameterPlotter.ipynb-EarthKit","identifier":"climatedt-parameterplotter.ipynb-earthkit","html_id":"climatedt-parameterplotter-ipynb-earthkit","key":"qTX4uDGM4W"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Lets plot the result file with ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"a6Rq4aA00j"},{"type":"link","url":"https://earthkit.readthedocs.io/en/latest/index.html","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"EarthKit","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"S0uamNYb8t"}],"urlSource":"https://earthkit.readthedocs.io/en/latest/index.html","key":"VgTSFMzgY8"},{"type":"text","value":" selecting only the Europe area in the plot.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"AKiHqks0Hy"}],"key":"VmDNzpIYsp"}],"key":"EOLCgsNSyG"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import earthkit.data\nimport earthkit.plots\nimport earthkit.regrid\n\ndata = earthkit.data.from_source(\"file\", filename)\nearthkit.plots.quickplot(data,domain=\"Europe\")","visibility":"show","key":"c4qIdHXAKe"},{"type":"output","id":"MTDSpDyp2vUThoJ4U39OP","data":[{"output_type":"execute_result","execution_count":23,"metadata":{},"data":{"text/plain":{"content":"\u003cearthkit.plots.components.figures.Figure at 0x7f1b75179110\u003e","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"85060b090cd5edb6fe5f3fa860e4ff9d","path":"/build/85060b090cd5edb6fe5f3fa860e4ff9d.png"},"text/plain":{"content":"\u003cFigure size 800x700 with 2 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"Fr24FN3aUr"}],"visibility":"show","key":"OTyguXwOWf"}],"key":"JPzpkFKgYV"},"references":{"cite":{"order":[],"data":{}}},"footer":{},"domain":"http://localhost:3001"},"project":{"title":"DEDL Notebook Gallery","toc":[{"file":"index.md"},{"file":"contribute.md","title":"contribute"},{"children":[{"file":"production/HDA/EUM_data/DEDL-HDA-EO.EUM.DAT.METOP.AVHRRL1.ipynb","hidden":true},{"file":"production/HDA/EUM_data/DEDL-HDA-EO.EUM.DAT.MSG-1.5.ipynb","hidden":true},{"file":"production/HDA/EUM_data/DEDL-HDA-EO.EUM.DAT.MTG.ipynb","hidden":true},{"file":"production/HDA/EUM_data/DEDL-HDA-EO.EUM.DAT.SENTINEL-3.OL_1_ERR___.ipynb","hidden":true},{"file":"production/HDA/DestinE_Digital_Twins/ClimateDT-ExtractLocationValues.ipynb","hidden":true},{"file":"production/HDA/DestinE_Digital_Twins/ClimateDT-ParameterPlotter.ipynb","hidden":true},{"file":"production/HDA/DestinE_Digital_Twins/DEDL-HDA-EO.ECMWF.DAT.DT_CLIMATE-Series.ipynb","hidden":true},{"file":"production/HDA/DestinE_Digital_Twins/DEDL-HDA-EO.ECMWF.DAT.DT_CLIMATE.ipynb","hidden":true},{"file":"production/HDA/DestinE_Digital_Twins/DEDL-HDA-EO.ECMWF.DAT.DT_EXTREMES-Series.ipynb","hidden":true},{"file":"production/HDA/DestinE_Digital_Twins/DEDL-HDA-EO.ECMWF.DAT.DT_EXTREMES.ipynb","hidden":true},{"file":"production/HDA/DestinE_Digital_Twins/ExtremeDT-ParameterPlotter.ipynb","hidden":true},{"file":"production/HDA/DestinE_Digital_Twins/ExtremeDT-dataAvailability.ipynb","hidden":true},{"file":"production/HDA/CDS_data/DEDL-HDA-EO.ECMWF.DAT.REANALYSIS_ERA5_SINGLE_LEVELS.ipynb","hidden":true},{"file":"production/HDA/REST/DEDL-HDA-EO.ESA.DAT.SENTINEL-1.L1_GRD.ipynb","hidden":true},{"file":"production/HDA/REST/DEDL-HDA-EO.ESA.DAT.SENTINEL-2.MSI.L2A.ipynb","hidden":true},{"file":"production/HDA/REST/HDA-REST-Queryables.ipynb","hidden":true},{"file":"production/HDA/REST/HDA-REST-full-version.ipynb","hidden":true},{"file":"production/HDA/REST/HDA-REST-quick-start.ipynb","hidden":true},{"file":"production/HDA/PySTAC/HDA-PyStac-Client.ipynb","hidden":true},{"file":"production/HDA/EODAG/HDA-EODAG-full-version.ipynb","hidden":true},{"file":"production/HDA/EODAG/HDA-EODAG-quick-start.ipynb","hidden":true}],"file":"galleries/HDA.md","title":"HDA"},{"children":[{"file":"production/HOOK/DEDL-Hook_access.ipynb","hidden":true},{"file":"production/HOOK/DEDL-Hook_data_harvest.ipynb","hidden":true},{"file":"production/HOOK/Tutorial.ipynb","hidden":true}],"file":"galleries/HOOK.md","title":"HOOK"},{"children":[{"file":"production/STACK/DEDL_StackService_Dask.ipynb","hidden":true},{"file":"production/STACK/STACK-Dask-101.ipynb","hidden":true},{"file":"production/STACK/STACK-Python-Client-Dask.ipynb","hidden":true}],"file":"galleries/STACK.md","title":"STACK"},{"file":"galleries_by_tag/tag-access-token.md","hidden":true},{"file":"galleries_by_tag/tag-authentication.md","hidden":true},{"file":"galleries_by_tag/tag-avhrr.md","hidden":true},{"file":"galleries_by_tag/tag-c3s.md","hidden":true},{"file":"galleries_by_tag/tag-cluster.md","hidden":true},{"file":"galleries_by_tag/tag-core-api.md","hidden":true},{"file":"galleries_by_tag/tag-dask.md","hidden":true},{"file":"galleries_by_tag/tag-digital-twin.md","hidden":true},{"file":"galleries_by_tag/tag-earthkit.md","hidden":true},{"file":"galleries_by_tag/tag-ecmwf.md","hidden":true},{"file":"galleries_by_tag/tag-eodag.md","hidden":true},{"file":"galleries_by_tag/tag-gfm.md","hidden":true},{"file":"galleries_by_tag/tag-hda.md","hidden":true},{"file":"galleries_by_tag/tag-hook.md","hidden":true},{"file":"galleries_by_tag/tag-http-requests.md","hidden":true},{"file":"galleries_by_tag/tag-metop.md","hidden":true},{"file":"galleries_by_tag/tag-olci.md","hidden":true},{"file":"galleries_by_tag/tag-pyaviso.md","hidden":true},{"file":"galleries_by_tag/tag-satpy.md","hidden":true},{"file":"galleries_by_tag/tag-sentinel-3.md","hidden":true},{"file":"galleries_by_tag/tag-seviri.md","hidden":true},{"file":"galleries_by_tag/tag-stac.md","hidden":true},{"file":"galleries_by_tag/tag-stack.md","hidden":true},{"file":"galleries_by_tag/tag-storage.md","hidden":true},{"file":"galleries_by_tag/tag-token.md","hidden":true},{"file":"galleries_by_tag/tag-workflow.md","hidden":true}],"exports":[],"bibliography":[],"index":"index","pages":[{"slug":"contribute","title":"Contribute to the Gallery","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"hda","title":"HDA Gallery","description":"","date":"","thumbnail":"/build/EUMETSAT-icon-5622ee4581d60335c28e91839e666bbf.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"hook","title":"HOOK Gallery","description":"","date":"","thumbnail":"/build/EUMETSAT-icon-5622ee4581d60335c28e91839e666bbf.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"stack","title":"STACK Gallery","description":"","date":"","thumbnail":"/build/dask-55232318e36306007797c96fb8ae0744.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/build/manifest-B2B2E6A5.js";
import * as route0 from "/build/root-IB5726YR.js";
import * as route1 from "/build/routes/$-LXLHKVOR.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/build/entry.client-UNPC4GT3.js");</script></body></html>